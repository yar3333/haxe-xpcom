<!DOCTYPE html>
<html lang="en-US" dir="ltr" class="redesign no-js">

<!-- Mirrored from developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefService2 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Aug 2014 20:12:45 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <script>(function(d) { d.className = d.className.replace(/\bno-js/, ''); })(document.documentElement);</script>
        
    <title>nsIContentPrefService2 - Mozilla | MDN</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="index, follow">
  <link rel="home" href="https://developer.mozilla.org/en-US/">
  <link rel="copyright" href="#copyright">

  <link href="../../../../../../../../mozorg.cdn.mozilla.net/media/css/tabzilla-min.css" type="text/css" rel="stylesheet">
              <link rel="stylesheet" media="all" href="../../../../../../../../developer.cdn.mozilla.net/media/css/mdn-min46d5.css?build=9fd3034" />

      
    <link rel="stylesheet" media="all" href="../../../../../../../../developer.cdn.mozilla.net/media/css/wiki-min46d5.css?build=9fd3034" />

          <link rel="stylesheet" type="text/css"
            href="https://developer.mozilla.org/en-US/docs/Template:CustomCSS?raw=1" />
    
    
  <!-- common social tags -->
    <meta property="og:type" content="website">
  <meta property="og:image" content="https://developer.mozilla.org/media/redesign/img/opengraph-logo.png">
  <meta property="og:site_name" content="Mozilla Developer Network">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://developer.mozilla.org/media/redesign/img/opengraph-logo.png">
  <meta name="twitter:site" content="@NewOnMDN">
  <meta name="twitter:creator" content="@NewOnMDN">

  <link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/en-US/search/xml" title="Mozilla Developer Network">

  <!-- third-generation iPad with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon144.png">
  <!-- iPhone with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon114.png">
  <!-- first- and second-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon72.png">
  <!-- non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon57.png">
  <!-- basic favicon -->
          <link rel="shortcut icon" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon32.png">
  <!--[if IE]>
  <meta http-equiv="imagetoolbar" content="no">
  <script src="https://developer.cdn.mozilla.net/media/js/libs/html5.js"></script>
  <![endif]-->

    <link rel="alternate" type="application/json" href="nsIContentPrefService2%24json.json">
  <link rel="canonical" href="nsIContentPrefService2.html" >

  
  <!-- document-specific social tags -->
  <meta property="og:title" content="nsIContentPrefService2">
  <meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefService2">
  <meta name="twitter:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefService2">
  <meta name="twitter:title" content="nsIContentPrefService2">
    <meta property="og:description" content="Content preferences allow the application to associate arbitrary data, or &#34;preferences&#34;, with specific domains, or web &#34;content&#34;. Specifically, a content preference is a structure with three values: a domain with which the preference is associated, a name that identifies the preference within its domain, and a value. (See nsIContentPref below.)">
  <meta name="description" content="Content preferences allow the application to associate arbitrary data, or &#34;preferences&#34;, with specific domains, or web &#34;content&#34;. Specifically, a content preference is a structure with three values: a domain with which the preference is associated, a name that identifies the preference within its domain, and a value. (See nsIContentPref below.)">
  <meta name="twitter:description" content="Content preferences allow the application to associate arbitrary data, or &#34;preferences&#34;, with specific domains, or web &#34;content&#34;. Specifically, a content preference is a structure with three values: a domain with which the preference is associated, a name that identifies the preference within its domain, and a value. (See nsIContentPref below.)">
  
      <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','../../../../../../../../www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-36116321-5', 'mozilla.org');
    ga('set', 'anonymizeIp', true);

    
    
    
    (function() {
        // http://cfsimplicity.com/61/removing-analytics-clutter-from-campaign-urls
        var win = window;
        var removeUtms = function(){
            var location = win.location;
            if (location.hash.indexOf('utm') != -1) {
                var anchor = location.hash.match(/#(?!utm)[^&]+/);
                anchor = anchor ? anchor[0] : '';
                if(!anchor && win.history.replaceState){
                    history.replaceState({}, '', location.pathname + location.search);
                } else {
                    location.hash = anchor;
                }
            }
        };

        ga('send', 'pageview', removeUtms(win.location + ''));
    })();
</script>
  <script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"VgAEV1RTGwABU1NSAAQ="};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o?o:e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e){function n(t,e,n){n||(n={});for(var r=o[t],a=r&&r.length||0,s=n[i]||(n[i]={}),u=0;a>u;u++)r[u].apply(s,e);return s}function r(t,e){var n=o[t]||(o[t]=[]);n.push(e)}var o={},i="nr@context";e.exports={on:r,emit:n}},{}],2:[function(t){function e(t,e,n,i,s){return u?u-=1:r("err",[s||new UncaughtException(t,e,n)]),"function"==typeof a?a.apply(this,o(arguments)):!1}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function n(t){r("err",[t,(new Date).getTime()])}var r=t("handle"),o=t(6),i=t(5),a=window.onerror,s=!1,u=0;t("loader").features.push("err"),window.onerror=e,NREUM.noticeError=n;try{throw new Error}catch(d){"stack"in d&&(t(1),t(2),"addEventListener"in window&&t(3),window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&t(4),s=!0)}i.on("fn-start",function(){s&&(u+=1)}),i.on("fn-err",function(t,e,r){s&&(this.thrown=!0,n(r))}),i.on("fn-end",function(){s&&!this.thrown&&u>0&&(u-=1)}),i.on("internal-error",function(t){r("ierr",[t,(new Date).getTime(),!0])})},{1:5,2:4,3:3,4:6,5:1,6:14,handle:"D5DuLP",loader:"G9z0Bl"}],3:[function(t){function e(t){r.inPlace(t,["addEventListener","removeEventListener"],"-",n)}function n(t){return t[1]}var r=t(1),o=(t(3),t(2));if(e(window),"getPrototypeOf"in Object){for(var i=document;i&&!i.hasOwnProperty("addEventListener");)i=Object.getPrototypeOf(i);i&&e(i);for(var a=XMLHttpRequest.prototype;a&&!a.hasOwnProperty("addEventListener");)a=Object.getPrototypeOf(a);a&&e(a)}else XMLHttpRequest.prototype.hasOwnProperty("addEventListener")&&e(XMLHttpRequest.prototype);o.on("addEventListener-start",function(t){if(t[1]){var e=t[1];"function"==typeof e?this.wrapped=e["nr@wrapped"]?t[1]=e["nr@wrapped"]:e["nr@wrapped"]=t[1]=r(e,"fn-"):"function"==typeof e.handleEvent&&r.inPlace(e,["handleEvent"],"fn-")}}),o.on("removeEventListener-start",function(t){var e=this.wrapped;e&&(t[1]=e)})},{1:15,2:1,3:14}],4:[function(t){var e=(t(3),t(1)),n=t(2);e.inPlace(window,["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame"],"raf-"),n.on("raf-start",function(t){t[0]=e(t[0],"fn-")})},{1:15,2:1,3:14}],5:[function(t){function e(t){var e=t[0];"string"==typeof e&&(e=new Function(e)),t[0]=n(e,"fn-")}var n=(t(3),t(1)),r=t(2);n.inPlace(window,["setTimeout","setInterval","setImmediate"],"setTimer-"),r.on("setTimer-start",e)},{1:15,2:1,3:14}],6:[function(t){function e(){o.inPlace(this,s,"fn-")}function n(t,e){o.inPlace(e,["onreadystatechange"],"fn-")}function r(t,e){return e}var o=t(1),i=t(2),a=window.XMLHttpRequest,s=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"];window.XMLHttpRequest=function(t){var n=new a(t);try{i.emit("new-xhr",[],n),o.inPlace(n,["addEventListener","removeEventListener"],"-",function(t,e){return e}),n.addEventListener("readystatechange",e,!1)}catch(r){try{i.emit("internal-error",r)}catch(s){}}return n},window.XMLHttpRequest.prototype=a.prototype,o.inPlace(XMLHttpRequest.prototype,["open","send"],"-xhr-",r),i.on("send-xhr-start",n),i.on("open-xhr-start",n)},{1:15,2:1}],7:[function(t){function e(){function e(t){if("string"==typeof t&&t.length)return t.length;if("object"!=typeof t)return void 0;if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if("undefined"!=typeof FormData&&t instanceof FormData)return void 0;try{return JSON.stringify(t).length}catch(e){return void 0}}function n(t){var n=this.params,r=this.metrics;if(!this.ended){this.ended=!0;for(var i=0;u>i;i++)t.removeEventListener(s[i],this.listener,!1);if(!n.aborted){if(r.duration=(new Date).getTime()-this.startTime,4===t.readyState){n.status=t.status;var a=t.responseType,d="arraybuffer"===a||"blob"===a||"json"===a?t.response:t.responseText,f=e(d);if(f&&(r.rxSize=f),this.sameOrigin){var c=t.getResponseHeader("X-NewRelic-App-Data");c&&(n.cat=c.split(", ").pop())}}else n.status=0;r.cbTime=this.cbTime,o("xhr",[n,r])}}}function r(t,e){var n=i(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}t("loader").features.push("xhr");var o=t("handle"),i=t(1),a=t(5),s=["load","error","abort","timeout"],u=s.length,d=t(2);t(3),t(4),a.on("new-xhr",function(){this.totalCbs=0,this.called=0,this.cbTime=0,this.end=n,this.ended=!1,this.xhrGuids={}}),a.on("open-xhr-start",function(t){this.params={method:t[0]},r(this,t[1]),this.metrics={}}),a.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),a.on("send-xhr-start",function(t,n){var r=this.metrics,o=t[0],i=this;if(r&&o){var d=e(o);d&&(r.txSize=d)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(i.params.aborted=!0),("load"!==t.type||i.called===i.totalCbs&&(i.onloadCalled||"function"!=typeof n.onload))&&i.end(n)}catch(e){try{a.emit("internal-error",e)}catch(r){}}};for(var f=0;u>f;f++)n.addEventListener(s[f],this.listener,!1)}),a.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),a.on("xhr-load-added",function(t,e){var n=""+d(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),a.on("xhr-load-removed",function(t,e){var n=""+d(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),a.on("addEventListener-end",function(t,e){e instanceof XMLHttpRequest&&"load"===t[0]&&a.emit("xhr-load-added",[t[1],t[2]],e)}),a.on("removeEventListener-end",function(t,e){e instanceof XMLHttpRequest&&"load"===t[0]&&a.emit("xhr-load-removed",[t[1],t[2]],e)}),a.on("fn-start",function(t,e,n){e instanceof XMLHttpRequest&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),a.on("fn-end",function(t,e){this.xhrCbStart&&a.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent)&&e()},{1:8,2:11,3:3,4:6,5:1,handle:"D5DuLP",loader:"G9z0Bl"}],8:[function(t,e){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");return!r.port&&o[1]&&(r.port=o[1].split("https://developer.mozilla.org/")[0].split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname),r.sameOrigin=!e.hostname||e.hostname===document.domain&&e.port===n.port&&e.protocol===n.protocol,r}},{}],handle:[function(t,e){e.exports=t("D5DuLP")},{}],D5DuLP:[function(t,e){function n(t,e){var n=r[t];return n?n.apply(this,e):(o[t]||(o[t]=[]),void o[t].push(e))}var r={},o={};e.exports=n,n.queues=o,n.handlers=r},{}],11:[function(t,e){function n(t){if(!t||"object"!=typeof t&&"function"!=typeof t)return-1;if(t===window)return 0;if(o.call(t,"__nr"))return t.__nr;try{return Object.defineProperty(t,"__nr",{value:r,writable:!0,enumerable:!1}),r}catch(e){return t.__nr=r,r}finally{r+=1}}var r=1,o=Object.prototype.hasOwnProperty;e.exports=n},{}],loader:[function(t,e){e.exports=t("G9z0Bl")},{}],G9z0Bl:[function(t,e){function n(){var t=p.info=NREUM.info;if(t&&t.agent&&t.licenseKey&&t.applicationID&&u&&u.body){p.proto="https"===c.split(":")[0]||t.sslForHttp?"https://":"http://",a("mark",["onload",i()]);var e=u.createElement("script");e.src=p.proto+t.agent,u.body.appendChild(e)}}function r(){"complete"===u.readyState&&o()}function o(){a("mark",["domContent",i()])}function i(){return(new Date).getTime()}var a=t("handle"),s=window,u=s.document,d="addEventListener",f="attachEvent",c=(""+location).split("?")[0],p=e.exports={offset:i(),origin:c,features:[]};u[d]?(u[d]("DOMContentLoaded",o,!1),s[d]("load",n,!1)):(u[f]("onreadystatechange",r),s[f]("onload",n)),a("mark",["firstbyte",i()])},{handle:"D5DuLP"}],14:[function(t,e){function n(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(0>o?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=n},{}],15:[function(t,e){function n(t,e,r,s){function nrWrapper(){try{var n,a=u(arguments),d=this,f=r&&r(a,d)||{}}catch(c){i([c,"",[a,d,s],f])}o(e+"start",[a,d,s],f);try{return n=t.apply(d,a)}catch(p){throw o(e+"err",[a,d,p],f),p}finally{o(e+"end",[a,d,n],f)}}return a(t)?t:(e||(e=""),nrWrapper[n.flag]=!0,nrWrapper)}function r(t,e,r,o){r||(r="");var i,s,u,d="-"===r.charAt(0);for(u=0;u<e.length;u++)s=e[u],i=t[s],a(i)||(t[s]=n(i,d?s+r:r,o,s,t))}function o(t,e,n){try{s.emit(t,e,n)}catch(r){i([r,t,e,n])}}function i(t){try{s.emit("internal-error",t)}catch(e){}}function a(t){return!(t&&"function"==typeof t&&t.apply&&!t[n.flag])}var s=t(1),u=t(2);e.exports=n,n.inPlace=r,n.flag="nr@wrapper"},{1:1,2:14}]},{},["G9z0Bl",2,7]);</script></head>
<body data-slug="Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefService2" contextmenu="edit-history-menu" class="document  ">

  <script type="text/javascript">
    (function(win) {
        'use strict';

                    (function(){
  var FLAGS = {
    'derby_closed': true,'ga_outbound_links': true,'kumaediting': false,'page_move': false,'promote_script': false,'redirect_messages': false,'top_contributors': false,'wiki_spellcheck': false
    },
    SWITCHES = {
    'wiki_error_on_delete': false,'wiki_force_immediate_rendering': false,'render_stale_documents_async': true,'enable_optimizely': false
    },
    SAMPLES = {
    
    };
  window.waffle = {
    "flag_is_active": function waffle_flag(flag_name) {
      
      return !!FLAGS[flag_name];
    },
    "switch_is_active": function waffle_switch(switch_name) {
      
      return !!SWITCHES[switch_name];
    },
    "sample_is_active": function waffle_sample(sample_name) {
      
      return !!SAMPLES[sample_name];
    },
    "FLAGS": FLAGS,
    "SWITCHES": SWITCHES,
    "SAMPLES": SAMPLES
  };
})();

                
        // This represents the site configuration
        win.mdn = {
            build: '9fd3034',
            // Properties and settings for CKEditor will go here
            ckeditor: {},
            // Feature test results and methods will be placed here
            features: {},
            // The path to media (images, CSS, JS) in MDN
            mediaPath: 'https://developer.cdn.mozilla.net/media/',
            // Optimizely API
            optimizely: win['optimizely'] || [],
            // Site notifications
            notifications: [],
            
            // Wiki-specific settings will be placed here
            wiki: {
                autosuggestTitleUrl: '/en-US/docs/get-documents'
            },
        };

        // Ensures gettext always returns something, is always set
        win.gettext = function(x) {
            return x;
        }
    })(window);
</script>
  

  
  <ul id="nav-access">
    <li><a href="#document-main" id="skip-main">Skip to main content</a></li>
    <li><a id="skip-language" href="#language">Select language</a></li>
          <li><a href="#q" id="skip-search">Skip to search</a></li>
      </ul>

  <!-- Header -->
  <header id="main-header"><div class="center">

    <div class="clear header-login">
      <a href="http://www.mozilla.org/" id="tabzilla" class="no-track">mozilla</a>
                <script src="../../../../../../../../login.persona.org/include.js"></script>
<script type="text/javascript">
(function() {
  var allauth = window.allauth = window.allauth || {};

  function startWatching() {
    navigator.id.watch({
      onlogin: function(assertion) {
        // TODO: next url handling
        document.getElementById("_persona_assertion").value = assertion;
        document.getElementById("_persona_login").submit();
      },
      onlogout: function() {
        // TODO
      }
    })
  };

  allauth.persona = {
    login: function(nextUrl, process) {
        document.getElementById("_persona_next_url").value = nextUrl || '';
        document.getElementById("_persona_process").value = process;
        startWatching();
        navigator.id.request({"siteName": "Mozilla Developer Network", "siteLogo": "/media/redesign/img/opengraph-logo.png"});
    }
  }
})();
</script>

<form id="_persona_login" method="post" action="https://developer.mozilla.org/users/persona/login/">
  <div style='display:none'><input type='hidden' name='csrfmiddlewaretoken' value='OFUZvWX3cvltHNznKujHNL8vtsBRoNMa' /></div>
  <input type="hidden" name="next" value="" id="_persona_next_url"/>
  <input type="hidden" name="process" value="" id="_persona_process"/>
  <input type="hidden" name="assertion" id="_persona_assertion"/>
</form>

  <form>
      <div class="oauth-login-container" tabIndex="0">
          <div class="oauth-login-options">
              <span>Sign in with</span>
              <span class="oauth-icon oauth-persona" title="Sign in with Persona"><i class="icon-user" aria-hidden="true"></i></span>
                      </div>
          <div class="submenu oauth-login-picker" aria-hidden="true">
              <ul>
                  <li><a href="javascript:allauth.persona.login('/en\u002DUS/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefService2', 'login')" class="persona-button persona-loaded login-link" data-next="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefService2" data-service="Persona"><i class="icon-user" aria-hidden="true"></i>Persona</a></li>
                              </ul>
          </div>
      </div>
  </form>
          </div>

    <a href="https://developer.mozilla.org/en-US/" class="logo">Mozilla Developer Network</a>

    <nav id="main-nav" role="navigation"><ul><li><a href="https://developer.mozilla.org/en-US/docs/Zones">Zones<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu submenu-single" id="nav-zones-submenu">
          <div class="submenu-column">
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/Add-ons">Add-ons</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Apps">App Center</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox">Firefox</a></li>
              <li><a href="https://developer.mozilla.org/en-US/Marketplace">Firefox Marketplace</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox_OS">Firefox OS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Persona">Persona</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Web">Web Platform<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu" id="nav-platform-submenu">
          <div class="submenu-column">
            <div class="title">Technologies</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML">HTML</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">JavaScript</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Graphics">Graphics</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/API">APIs / DOM</a></li>
              <li><a href="https://developer.mozilla.org/en-US/Apps">Apps</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/MathML">MathML</a></li>
            </ul>
          </div><div class="submenu-column last">
            <div class="title">References & Guides</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Tutorials">Tutorials</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Reference">References</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide">Developer Guides</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility">Accessibility</a></li>
              <li><a href="https://developer.mozilla.org/en-US/demos/">Demos</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web">...more docs</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Tools">Tools</a></li><li><a href="https://developer.mozilla.org/en-US/demos/">Demos</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Connect">Connect</a></li><li class="main-nav-search"><form action="https://developer.mozilla.org/en-US/search" method="get" role="search">
        <div class="search-wrap">
          <label for="main-q" class="offscreen">Search</label>
          <input type="search" id="main-q" name="q" data-placeholder="Search" data-value="" value="" />
          <span class="search-trigger"><i aria-hidden="true" class="icon-search"></i></span>&nbsp;
          <button type="submit" class="offscreen">Search</button>
        </div>
      </form></li></ul></nav>
  </div></header>

  <!-- Content will go here -->
  <main id="content"><div class="center clear">
  
   <!-- end is_zone -->


    <div class="wiki-main-content" id="document-main"><div class="center">
            <div class="article-meta">
        <!-- action buttons -->
        
        
        

  <ul class="page-buttons" data-sticky="false"><li><button id="languages-menu" class="transparent" aria-haspopup="true" aria-owns="languages-menu-submenu" aria-expanded="false"><span>Languages</span><i aria-hidden="true" class="icon-globe"></i></button>

        <div class="submenu" id="languages-menu-submenu">
          <div class="submenu-column">
            <ul id="translations">
                              <li class="smaller">No translations exist for this document.</li>
              
                              <li><a href="https://developer.mozilla.org/en-US/users/signin/?next=/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefService2%24locales">Add a translation</a></li>
                          </ul>
          </div>
        </div></li><li class="page-buttons-edit"><a href="https://developer.mozilla.org/en-US/users/signin/?next=/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefService2%24edit" class="button" data-optimizely-hook="button-edit-doc" id="edit-button">Edit<i aria-hidden="true" class="icon-pencil"></i></a></li><li><button id="advanced-menu" class="only-icon" aria-haspopup="true" aria-owns="advanced-menu-submenu" aria-expanded="false"><span>Advanced</span><i aria-hidden="true" class="icon-cog"></i></button>

        <div class="submenu" id="advanced-menu-submenu">
          <!-- this page -->
          <div class="submenu-column">
            <div class="title">Advanced</div>
            <ul>
                <li><a href="nsIContentPrefService2%24history.html">History</a></li>
                                                                
                
                                
                                                                <li class="page-print"><a href="#" onclick="return window.print();"  title="Print page">Print this page</a></li>
            </ul>
          </div>
        </div>
  </li></ul>

        <!-- crumbs -->
          <nav class="crumbs" role="navigation"><ol xmlns:v="http://rdf.data-vocabulary.org/#" aria-label="breadcrumbs">
    <li typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US" rel="v:url" property="v:title">MDN</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla" rel="v:url" property="v:title">Mozilla</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech" rel="v:url" property="v:title">Mozilla technologies</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM" rel="v:url" property="v:title">XPCOM</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference" rel="v:url" property="v:title">XPCOM reference</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="../Interface.html" rel="v:url" property="v:title">XPCOM Interface Reference</a></li>
        <li class="crumb" typeof="v:Breadcrumb" property="v:title">nsIContentPrefService2</li>
  </ol></nav>
      </div>

      <!-- heading -->
      <div id="wiki-document-head" class="document-head">
          <span class="from-search-previous-box">
            <a class="button from-search-previous only-icon disabled" title="Previous Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-left"></i></a>
          </span>
          <span class="from-search-navigate-wrap">
            <a href="#" class="from-search-navigate"><span class="from-search-navigate-up"><i aria-hidden="true" class="icon-double-angle-up"></i></span><span class="from-search-navigate-down"><i aria-hidden="true" class="icon-double-angle-down"></i></span></a>
          </span>
          <div class="from-search-toc">
            <span class="title">Your Search Results</span>
            <ol></ol>
          </div>
          <span class="from-search-next-box">
            <a class="button from-search-next only-icon disabled" title="Next Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-right"></i></a>
          </span>
        <h1>nsIContentPrefService2</h1>
        
      </div>
      
      <!-- start the main content container -->
        <div id="wiki-column-container" class="wiki-right-present wiki-left-closed wiki-left-none">

          
          <!-- content row with three strips -->
          <div class="column-container column-container-reverse">

                          <!-- TOC, approvals, etc -->
              <div class="column-strip wiki-column" id="wiki-right">
                            <!-- table of contents -->
              <div id="toc" class="toc toggleable">
                <a href="#toc" class="title toggler" data-open-icon="icon-plus" data-closed-icon="icon-minus">In This Article<i></i></a>
                <ol class="toggle-container">
                  <code></code><code></code><li><a href="#Description" rel="internal">Description</a><code></code><ol><li><a href="#Domain_Parameters" rel="internal">Domain Parameters</a><li><a href="#Private-Browsing_Context_Parameters" rel="internal">Private-Browsing Context Parameters</a><code></code><code></code><code></code><code></code><li><a href="#Callbacks" rel="internal">Callbacks</a><code></code></ol></li><li><a href="#Method_overview" rel="internal">Method overview</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="#Methods" rel="internal">Methods</a><ol><li><a href="#addObserverForName()" rel="internal">addObserverForName()</a><code></code><code></code><code></code><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code></ol></li><li><a href="#getByDomainAndName()" rel="internal">getByDomainAndName()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code><code></code></ol></li><li><a href="#getBySubdomainAndName()" rel="internal">getBySubdomainAndName()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code><code></code></ol></li><li><a href="#getCachedByDomainAndName()" rel="internal">getCachedByDomainAndName()</a><code></code><code></code><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code><li><a href="#Return_value" rel="internal">Return value</a><code></code></ol></li><li><a href="#getCachedBySubdomainAndName()" rel="internal">getCachedBySubdomainAndName()</a><code></code><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code><code></code><code></code></ol></li><li><a href="#getCachedGlobal()" rel="internal">getCachedGlobal()</a><code></code><code></code><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><li><a href="#Return_value" rel="internal">Return value</a><code></code></ol></li><li><a href="#getGlobal()" rel="internal">getGlobal()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code></ol></li><li><a href="#removeAllDomains()" rel="internal">removeAllDomains()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code></ol></li><li><a href="#removeAllGlobals()" rel="internal">removeAllGlobals()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code></ol></li><li><a href="#removeByDomain()" rel="internal">removeByDomain()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code></ol></li><li><a href="#removeByDomainAndName()" rel="internal">removeByDomainAndName()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code><code></code></ol></li><li><a href="#removeByName()" rel="internal">removeByName()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code></ol></li><li><a href="#removeBySubdomain()" rel="internal">removeBySubdomain()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code></ol></li><li><a href="#removeBySubdomainAndName()" rel="internal">removeBySubdomainAndName()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code><code></code></ol></li><li><a href="#removeGlobal()" rel="internal">removeGlobal()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code></ol></li><li><a href="#removeObserverForName()" rel="internal">removeObserverForName()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code><code></code></ol></li><li><a href="#set()" rel="internal">set()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code><code></code><code></code></ol></li><li><a href="#setGlobal()" rel="internal">setGlobal()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><code></code><code></code></ol></li></ol></li><li><a href="#See_also" rel="internal">See also</a><code></code>
                </ol>
              </div>
                            </div>
            
                                                  
            <!-- center: main article content -->
            <div id="wiki-content" class="column-main wiki-column text-content">

              
              
                                                                                          
              <!-- just the article content -->
              <article id="wikiArticle">
                                                      <p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;"> 
<div style="background: #eee; padding: 2px;"><code><a class="external" href="http://mxr.mozilla.org/mozilla-central/source/dom/interfaces/base/nsIContentPrefService2.idl" rel="custom">dom/interfaces/base/nsIContentPrefService2.idl</a></code><span style="text-align: right; float: right;"><a href="en-US/docs/Interfaces/About_Scriptable_Interfaces.html" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div> 
<span style="padding: 4px 2px;"> 
 
Asynchronous API for Content Preferences 
</span> 
 
  <div style="height: 42px; position: relative; padding: 2px; width: auto;"> 
 
  <div style="top: 22px; font-size: 11px; position: absolute;">1.0</div> 
   
  <div style="top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 100%;">28</div> 
   
  <div style="height: 8px; top: 16px; background: #dd0000; left: 0px; position: absolute; width: 75%;"></div> 
   
<div style="height: 8px; top: 16px; left: 75%; background: #00dd00; position: absolute; width: 25%;" title="Introduced in Gecko 20.0 (Firefox 20.0 / Thunderbird 20.0 / SeaMonkey 2.17)"></div> 
 
<div style="top: 0px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 75%;">Introduced</div> 
<div style="top: 22px; font-size: 11px; position: absolute; left: 0px; text-align: right; float: right; width: 75%;">Gecko 20.0</div> 
 
</div> 
 
<div style="background: #eee; padding: 2px;"> 
Inherits from: <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsISupports" title="">nsISupports</a></code> 
<span style="text-align: right; float: right;">Last changed in Gecko 20.0 (Firefox 20.0 / Thunderbird 20.0 / SeaMonkey 2.17)</span></div> 
</div><p></p>
<h2 id="Description">Description</h2>
<p>Content preferences allow the application to associate arbitrary data, or "preferences", with specific domains, or web "content". Specifically, a content preference is a structure with three values: a domain with which the preference is associated, a name that identifies the preference within its domain, and a value. (See <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIContentPref" title="">nsIContentPref</a></code> below.)</p>
<p>For example, if you want to remember the user's preference for a certain zoom level on www.mozilla.org pages, you might store a preference whose domain is "www.mozilla.org", whose name is "zoomLevel", and whose value is the numeric zoom level.</p>
<p>A preference need not have a domain, and in that case the preference is called a "global" preference. This interface doesn't impart any special significance to global preferences; they're simply name-value pairs that aren't associated with any particular domain. As a consumer of this interface, you might choose to let a global preference override all non- global preferences of the same name, for example, for whatever definition of "override" is appropriate for your use case.</p>
<h3 id="Domain_Parameters">Domain Parameters</h3>
<p>Many methods of this interface accept a "domain" parameter. Domains may be specified either exactly, like "example.com", or as full URLs, like "http://example.com/foo/bar". In the latter case the API extracts the full domain from the URL, so if you specify "http://foo.bar.example.com/baz", the domain is taken to be "foo.bar.example.com", not "example.com".</p>
<h3 id="Private-Browsing_Context_Parameters">Private-Browsing Context Parameters</h3>
<p>Many methods also accept a "context" parameter. This parameter relates to private browsing and determines the kind of storage that a method uses, either the usual permanent storage or temporary storage <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIContentPrefService2#set()">set()</a></code> aside for private browsing sessions.</p>
<p>Pass <code>null</code> to unconditionally use permanent storage. Pass an <code><a class="new" href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsILoadContext" title="">nsILoadContext</a></code> to use storage appropriate to the context's usePrivateBrowsing attribute: if usePrivateBrowsing is <code>true</code>, temporary private-browsing storage is used, and otherwise permanent storage is used. A context can be obtained from the window or channel whose content pertains to the preferences being modified or retrieved.</p>
<h3 id="Callbacks">Callbacks</h3>
<p>The methods of callback objects are always called asynchronously. See <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIContentPrefCallback2" title="">nsIContentPrefCallback2</a></code> for more information about callbacks.</p>
<h2 id="Method_overview" name="Method_overview">Method overview</h2>
<table class="standard-table">
  <tbody>
    <tr>
      <td><code>void <a href="#addObserverForName()">addObserverForName</a>(in AString name, in nsIContentPrefObserver observer);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#getByDomainAndName()">getByDomainAndName</a>(in AString domain, in AString name, in nsILoadContext context, in nsIContentPrefCallback2 callback);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#getBySubdomainAndName()">getBySubdomainAndName</a>(in AString domain, in AString name, in nsILoadContext context, in nsIContentPrefCallback2 callback);</code></td>
    </tr>
    <tr>
      <td><code>nsIContentPref <a href="#getCachedByDomainAndName()">getCachedByDomainAndName</a>(in AString domain, in AString name, in nsILoadContext context);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#getCachedBySubdomainAndName()">getCachedBySubdomainAndName</a>(in AString domain, in AString name, in nsILoadContext context, out unsigned long len, [retval,array,size_is(len)] out nsIContentPref prefs);</code></td>
    </tr>
    <tr>
      <td><code>nsIContentPref <a href="#getCachedGlobal()">getCachedGlobal</a>(in AString name, in nsILoadContext context);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#getGlobal()">getGlobal</a>(in AString name, in nsILoadContext context, in nsIContentPrefCallback2 callback);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#removeAllDomains()">removeAllDomains</a>(in nsILoadContext context, [optional] in nsIContentPrefCallback2 callback);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#removeAllGlobals()">removeAllGlobals</a>(in nsILoadContext context, [optional] in nsIContentPrefCallback2 callback);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#removeByDomain()">removeByDomain</a>(in AString domain, in nsILoadContext context, [optional] in nsIContentPrefCallback2 callback);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#removeByDomainAndName()">removeByDomainAndName</a>(in AString domain, in AString name, in nsILoadContext context, [optional] in nsIContentPrefCallback2 callback);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#removeByName()">removeByName</a>(in AString name, in nsILoadContext context, [optional] in nsIContentPrefCallback2 callback);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#removeBySubdomain()">removeBySubdomain</a>(in AString domain, in nsILoadContext context, [optional] in nsIContentPrefCallback2 callback);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#removeBySubdomainAndName()">removeBySubdomainAndName</a>(in AString domain, in AString name, in nsILoadContext context, [optional] in nsIContentPrefCallback2 callback);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#removeGlobal()">removeGlobal</a>(in AString name, in nsILoadContext context, [optional] in nsIContentPrefCallback2 callback);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#removeObserverForName()">removeObserverForName</a>(in AString name, in nsIContentPrefObserver observer);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#set()">set</a>(in AString domain, in AString name, in nsIVariant value, in nsILoadContext context, [optional] in nsIContentPrefCallback2 callback);</code></td>
    </tr>
    <tr>
      <td><code>void <a href="#setGlobal()">setGlobal</a>(in AString name, in nsIVariant value, in nsILoadContext context, [optional] in nsIContentPrefCallback2 callback);</code></td>
    </tr>
  </tbody>
</table>
<h2 id="Methods" name="Methods">Methods</h2>
<h3 id="addObserverForName()" name="addObserverForName()">addObserverForName()</h3>
<p>Registers an observer that will be notified whenever a preference with the given name is <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIContentPrefService2#set()">set()</a></code> or removed.</p>
<p>When a <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIContentPrefService2#set()">set()</a></code> or remove method is called, observers are notified after the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIContentPrefService2#set()">set()</a></code> or removal completes but before method's callback is called.</p>
<p>The service holds a strong reference to the observer, so the observer must be removed later to avoid leaking it.</p>
<pre class="eval">void addObserverForName(
  in AString name,
  in nsIContentPrefObserver observer
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>name</code></dt>
  <dd>
    The name of the preferences to observe. Pass <code>null</code> to observe all preference changes regardless of name.</dd>
  <dt>
    <code>observer</code></dt>
  <dd>
    The observer.</dd>
</dl>
<h3 id="getByDomainAndName()" name="getByDomainAndName()">getByDomainAndName()</h3>
<p>Gets the preference with the given domain and name.</p>
<pre class="eval">void getByDomainAndName(
  in AString domain,
  in AString name,
  in nsILoadContext context,
  in nsIContentPrefCallback2 callback
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>domain</code></dt>
  <dd>
    The preference's domain.</dd>
  <dt>
    <code>name</code></dt>
  <dd>
    The preference's name.</dd>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
  <dt>
    <code>callback</code></dt>
  <dd>
    HandleResult is called once unless no such preference exists, in which case handleResult is not called at all.</dd>
</dl>
<h3 id="getBySubdomainAndName()" name="getBySubdomainAndName()">getBySubdomainAndName()</h3>
<p>Gets all preferences with the given name whose domains are either the same as or subdomains of the given domain.</p>
<pre class="eval">void getBySubdomainAndName(
  in AString domain,
  in AString name,
  in nsILoadContext context,
  in nsIContentPrefCallback2 callback
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>domain</code></dt>
  <dd>
    The preferences' domain.</dd>
  <dt>
    <code>name</code></dt>
  <dd>
    The preferences' name.</dd>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
  <dt>
    <code>callback</code></dt>
  <dd>
    HandleResult is called once for each preference. If no such preferences exist, handleResult is not called at all.</dd>
</dl>
<h3 id="getCachedByDomainAndName()" name="getCachedByDomainAndName()">getCachedByDomainAndName()</h3>
<p>Synchronously retrieves from the in-memory cache the preference with the given domain and name.</p>
<p>In addition to caching preference values, the cache also keeps track of preferences that are known not to exist. If the preference is known not to exist, the value attribute of the returned object will be undefined (<code><a class="new" href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIDataType#VTYPE_VOID()">nsIDataType.VTYPE_VOID()</a></code>).</p>
<p>If the preference is neither cached nor known not to exist, then <code>null</code> is returned, and get() must be called to determine whether the preference exists.</p>
<pre class="eval">nsIContentPref getCachedByDomainAndName(
  in AString domain,
  in AString name,
  in nsILoadContext context
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>domain</code></dt>
  <dd>
    The preference's domain.</dd>
  <dt>
    <code>name</code></dt>
  <dd>
    The preference's name.</dd>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
</dl>
<h4 id="Return_value" name="Return_value">Return value</h4>
<p>The preference, or <code>null</code> if no such preference is known to exist.</p>
<h3 id="getCachedBySubdomainAndName()" name="getCachedBySubdomainAndName()">getCachedBySubdomainAndName()</h3>
<p>Synchronously retrieves from the in-memory cache all preferences with the given name whose domains are either the same as or subdomains of the given domain.</p>
<p>The preferences are returned in an array through the out-parameter. If a preference for a particular subdomain is known not to exist, then an object corresponding to that preference will be present in the array, and, as with <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIContentPrefService2#getCachedByDomainAndName()">getCachedByDomainAndName()</a></code>, its value attribute will be undefined.</p>
<pre class="eval">void getCachedBySubdomainAndName(
  in AString domain,
  in AString name,
  in nsILoadContext context,
  out unsigned long len,
  [retval,array,size_is(len)] out nsIContentPref prefs
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>domain</code></dt>
  <dd>
    The preferences' domain.</dd>
  <dt>
    <code>name</code></dt>
  <dd>
    The preferences' name.</dd>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
  <dt>
    <code>len</code></dt>
  <dd>
    The length of the returned array.</dd>
  <dt>
    <code>prefs</code></dt>
  <dd>
    The array of preferences.</dd>
</dl>
<h3 id="getCachedGlobal()" name="getCachedGlobal()">getCachedGlobal()</h3>
<p>Synchronously retrieves from the in-memory cache the preference with no domain and the given name.</p>
<p>As with <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIContentPrefService2#getCachedByDomainAndName()">getCachedByDomainAndName()</a></code>, if the preference is cached then it is returned; if the preference is known not to exist, then the value attribute of the returned object will be undefined; if the preference is neither cached nor known not to exist, then <code>null</code> is returned.</p>
<pre class="eval">nsIContentPref getCachedGlobal(
  in AString name,
  in nsILoadContext context
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>name</code></dt>
  <dd>
    The preference's name.</dd>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
</dl>
<h4 id="Return_value" name="Return_value">Return value</h4>
<p>The preference, or <code>null</code> if no such preference is known to exist.</p>
<h3 id="getGlobal()" name="getGlobal()">getGlobal()</h3>
<p>Gets the preference with no domain and the given name.</p>
<pre class="eval">void getGlobal(
  in AString name,
  in nsILoadContext context,
  in nsIContentPrefCallback2 callback
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>name</code></dt>
  <dd>
    The preference's name.</dd>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
  <dt>
    <code>callback</code></dt>
  <dd>
    HandleResult is called once unless no such preference exists, in which case handleResult is not called at all.</dd>
</dl>
<h3 id="removeAllDomains()" name="removeAllDomains()">removeAllDomains()</h3>
<p>Removes all non-global preferences -- in other words, all preferences that have a domain.</p>
<pre class="eval">void removeAllDomains(
  in nsILoadContext context,
  in nsIContentPrefCallback2 callback <span class="inlineIndicator optional optionalInline">Optional</span>
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
  <dt>
    <code>callback</code> <span class="inlineIndicator optional optionalInline">Optional</span></dt>
  <dd>
    HandleCompletion is called when the operation completes.</dd>
</dl>
<h3 id="removeAllGlobals()" name="removeAllGlobals()">removeAllGlobals()</h3>
<p>Removes all global preferences -- in other words, all preferences that have no domain.</p>
<pre class="eval">void removeAllGlobals(
  in nsILoadContext context,
  in nsIContentPrefCallback2 callback <span class="inlineIndicator optional optionalInline">Optional</span>
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
  <dt>
    <code>callback</code> <span class="inlineIndicator optional optionalInline">Optional</span></dt>
  <dd>
    HandleCompletion is called when the operation completes.</dd>
</dl>
<h3 id="removeByDomain()" name="removeByDomain()">removeByDomain()</h3>
<p>Removes all preferences with the given domain.</p>
<pre class="eval">void removeByDomain(
  in AString domain,
  in nsILoadContext context,
  in nsIContentPrefCallback2 callback <span class="inlineIndicator optional optionalInline">Optional</span>
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>domain</code></dt>
  <dd>
    The preferences' domain.</dd>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
  <dt>
    <code>callback</code> <span class="inlineIndicator optional optionalInline">Optional</span></dt>
  <dd>
    HandleCompletion is called when the operation completes.</dd>
</dl>
<h3 id="removeByDomainAndName()" name="removeByDomainAndName()">removeByDomainAndName()</h3>
<p>Removes the preference with the given domain and name.</p>
<pre class="eval">void removeByDomainAndName(
  in AString domain,
  in AString name,
  in nsILoadContext context,
  in nsIContentPrefCallback2 callback <span class="inlineIndicator optional optionalInline">Optional</span>
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>domain</code></dt>
  <dd>
    The preference's domain.</dd>
  <dt>
    <code>name</code></dt>
  <dd>
    The preference's name.</dd>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
  <dt>
    <code>callback</code> <span class="inlineIndicator optional optionalInline">Optional</span></dt>
  <dd>
    HandleCompletion is called when the operation completes.</dd>
</dl>
<h3 id="removeByName()" name="removeByName()">removeByName()</h3>
<p>Removes all preferences with the given name regardless of domain, including global preferences with the given name.</p>
<pre class="eval">void removeByName(
  in AString name,
  in nsILoadContext context,
  in nsIContentPrefCallback2 callback <span class="inlineIndicator optional optionalInline">Optional</span>
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>name</code></dt>
  <dd>
    The preferences' name.</dd>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
  <dt>
    <code>callback</code> <span class="inlineIndicator optional optionalInline">Optional</span></dt>
  <dd>
    HandleCompletion is called when the operation completes.</dd>
</dl>
<h3 id="removeBySubdomain()" name="removeBySubdomain()">removeBySubdomain()</h3>
<p>Removes all preferences whose domains are either the same as or subdomains of the given domain.</p>
<pre class="eval">void removeBySubdomain(
  in AString domain,
  in nsILoadContext context,
  in nsIContentPrefCallback2 callback <span class="inlineIndicator optional optionalInline">Optional</span>
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>domain</code></dt>
  <dd>
    The preferences' domain.</dd>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
  <dt>
    <code>callback</code> <span class="inlineIndicator optional optionalInline">Optional</span></dt>
  <dd>
    HandleCompletion is called when the operation completes.</dd>
</dl>
<h3 id="removeBySubdomainAndName()" name="removeBySubdomainAndName()">removeBySubdomainAndName()</h3>
<p>Removes all the preferences with the given name whose domains are either the same as or subdomains of the given domain.</p>
<pre class="eval">void removeBySubdomainAndName(
  in AString domain,
  in AString name,
  in nsILoadContext context,
  in nsIContentPrefCallback2 callback <span class="inlineIndicator optional optionalInline">Optional</span>
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>domain</code></dt>
  <dd>
    The preferences' domain.</dd>
  <dt>
    <code>name</code></dt>
  <dd>
    The preferences' name.</dd>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
  <dt>
    <code>callback</code> <span class="inlineIndicator optional optionalInline">Optional</span></dt>
  <dd>
    HandleCompletion is called when the operation completes.</dd>
</dl>
<h3 id="removeGlobal()" name="removeGlobal()">removeGlobal()</h3>
<p>Removes the preference with no domain and the given name.</p>
<pre class="eval">void removeGlobal(
  in AString name,
  in nsILoadContext context,
  in nsIContentPrefCallback2 callback <span class="inlineIndicator optional optionalInline">Optional</span>
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>name</code></dt>
  <dd>
    The preference's name.</dd>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
  <dt>
    <code>callback</code> <span class="inlineIndicator optional optionalInline">Optional</span></dt>
  <dd>
    HandleCompletion is called when the operation completes.</dd>
</dl>
<h3 id="removeObserverForName()" name="removeObserverForName()">removeObserverForName()</h3>
<p>Unregisters an observer for the given name.</p>
<pre class="eval">void removeObserverForName(
  in AString name,
  in nsIContentPrefObserver observer
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>name</code></dt>
  <dd>
    The name for which the observer was registered. Pass <code>null</code> if the observer was added with a <code>null</code> name.</dd>
  <dt>
    <code>observer</code></dt>
  <dd>
    The observer.</dd>
</dl>
<h3 id="set()" name="set()">set()</h3>
<p>Sets a preference.</p>
<pre class="eval">void set(
  in AString domain,
  in AString name,
  in nsIVariant value,
  in nsILoadContext context,
  in nsIContentPrefCallback2 callback <span class="inlineIndicator optional optionalInline">Optional</span>
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>domain</code></dt>
  <dd>
    The preference's domain.</dd>
  <dt>
    <code>name</code></dt>
  <dd>
    The preference's name.</dd>
  <dt>
    <code>value</code></dt>
  <dd>
    The preference's value.</dd>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
  <dt>
    <code>callback</code> <span class="inlineIndicator optional optionalInline">Optional</span></dt>
  <dd>
    HandleCompletion is called when the preference has been stored.</dd>
</dl>
<h3 id="setGlobal()" name="setGlobal()">setGlobal()</h3>
<p>Sets a preference with no domain.</p>
<pre class="eval">void setGlobal(
  in AString name,
  in nsIVariant value,
  in nsILoadContext context,
  in nsIContentPrefCallback2 callback <span class="inlineIndicator optional optionalInline">Optional</span>
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
  <dt>
    <code>name</code></dt>
  <dd>
    The preference's name.</dd>
  <dt>
    <code>value</code></dt>
  <dd>
    The preference's value.</dd>
  <dt>
    <code>context</code></dt>
  <dd>
    The private-browsing context, if any.</dd>
  <dt>
    <code>callback</code> <span class="inlineIndicator optional optionalInline">Optional</span></dt>
  <dd>
    HandleCompletion is called when the preference has been stored.</dd>
</dl>
<h2 id="See_also" name="See_also">See also</h2>
<ul>
  <li>Old synchronous API:<code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIContentPrefService" title="">nsIContentPrefService</a></code></li>
  <li><a href="https://developer.mozilla.org/en-US/docs/Using_content_preferences" title="/en-US/docs/Using_content_preferences">Using content preferences</a></li>
</ul>
                                                </article>

              
                <!-- attachments list -->
                
                <!-- contributors -->
                <div class="wiki-block contributors">
                  <h2 class="offscreen">Document Tags and Contributors</h2>
                                                      <!-- tags if present -->
                  <div class="tag-attach-list tags contributor-sub">
                    <i aria-hidden="true" class="icon-tags"></i><strong>Tags:</strong>
                    <ul class="tag-list"><li><a href="https://developer.mozilla.org/en-US/docs/tag/XPCOM">XPCOM</a></li><li><a href="https://developer.mozilla.org/en-US/docs/tag/Interfaces">Interfaces</a></li><li><a href="https://developer.mozilla.org/en-US/docs/tag/XPCOM API Reference">XPCOM API Reference</a></li><li><a href="https://developer.mozilla.org/en-US/docs/tag/XPCOM Interface Reference">XPCOM Interface Reference</a></li><li><a href="https://developer.mozilla.org/en-US/docs/tag/Interfaces:Scriptable">Interfaces:Scriptable</a></li><li><a href="https://developer.mozilla.org/en-US/docs/tag/Preferences">Preferences</a></li></ul>
                  </div>
                                    <div class="contributor-sub"> <i aria-hidden="true" class="icon-group"></i><strong>Contributors to this page:</strong> <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/fscholz">fscholz</a> </div>                                      <div class="contributor-sub">
                      <i aria-hidden="true" class="icon-clock-o"></i><strong>Last updated by:</strong>
                      <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>,
                      <time datetime="2014-04-14T10:44:51-07:00">Apr 14, 2014 10:44:51 AM</time>
                    </div>
                                  </div>
                          </div>

                      </div>
        </div>
      </div>
    </div> <!-- ends "main-content" -->

  <menu type="context" id="edit-history-menu">
    <menuitem data-action="$edit" label="Edit page"></menuitem>
    <menuitem data-action="$history" label="View page history"></menuitem>
  </menu>
  </div></main>

  <!-- Footer -->
  <footer><div class="center">
    <div class="column-container">
      <div class="column-main">
                <p>
          <bdi>&copy; 2005-2014 Mozilla Developer Network and individual contributors<br /> Content is available under <a href="https://developer.mozilla.org/en-US/docs/Project:MDN/About#Copyrights_and_licenses">these licenses</a> &middot; <a href="https://developer.mozilla.org/en-US/docs/Project:MDN/About">About MDN</a> &middot; <a href="http://github.com/mozilla/kuma">Contribute to the code</a> &middot; <a href="http://www.mozilla.org/privacy/websites/">Privacy policy</a></bdi>        </p>
              </div>
      <div class="column-strip">
                                  </div>
    </div>
  </div></footer>

  <!-- site js -->
    <script src="https://developer.mozilla.org/en-US/jsi18n/build:9fd3034"></script>
  
      <!--[if lte IE 8]><script src="/media/redesign/js/libs/selectivizr-1.0.2/selectivizr-build.js?build=9fd3034"></script><![endif]-->

    <script src="../../../../../../../../developer.cdn.mozilla.net/media/js/main-min46d5.js?build=9fd3034"></script>

          <script>
        mdn.analytics.trackOutboundLinks(document.body);
      </script>
    
          <script src="../../../../../../../../developer.cdn.mozilla.net/media/js/wiki-min46d5.js?build=9fd3034"></script>
      
    <script type="text/javascript">
      jQuery('.from-search-toc').mozSearchResults('');
  </script>

  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"beacon-3.newrelic.com","queueTime":1,"licenseKey":"42869b6ed3","agent":"js-agent.newrelic.com/nr-411.min.js","transactionName":"b1QHMUtVDRdSW0YKXVYeIxBXVxcNXFYdFFtTWEsTUFEUFwlcXQBHVVQLEQ==","applicationID":"3172075","errorBeacon":"bam.nr-data.net","applicationTime":285}</script></body>

<!-- Mirrored from developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIContentPrefService2 by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Aug 2014 20:12:46 GMT -->
</html>