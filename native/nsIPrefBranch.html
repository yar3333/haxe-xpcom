<!DOCTYPE html>
<html lang="en-US" dir="ltr" class="redesign no-js">

<!-- Mirrored from developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Aug 2014 20:22:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <script>(function(d) { d.className = d.className.replace(/\bno-js/, ''); })(document.documentElement);</script>
        
    <title>nsIPrefBranch - Mozilla | MDN</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="index, follow">
  <link rel="home" href="https://developer.mozilla.org/en-US/">
  <link rel="copyright" href="#copyright">

  <link href="../../../../../../../../mozorg.cdn.mozilla.net/media/css/tabzilla-min.css" type="text/css" rel="stylesheet">
              <link rel="stylesheet" media="all" href="../../../../../../../../developer.cdn.mozilla.net/media/css/mdn-min46d5.css?build=9fd3034" />

      
    <link rel="stylesheet" media="all" href="../../../../../../../../developer.cdn.mozilla.net/media/css/wiki-min46d5.css?build=9fd3034" />

          <link rel="stylesheet" type="text/css"
            href="https://developer.mozilla.org/en-US/docs/Template:CustomCSS?raw=1" />
    
    
  <!-- common social tags -->
    <meta property="og:type" content="website">
  <meta property="og:image" content="https://developer.mozilla.org/media/redesign/img/opengraph-logo.png">
  <meta property="og:site_name" content="Mozilla Developer Network">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://developer.mozilla.org/media/redesign/img/opengraph-logo.png">
  <meta name="twitter:site" content="@NewOnMDN">
  <meta name="twitter:creator" content="@NewOnMDN">

  <link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/en-US/search/xml" title="Mozilla Developer Network">

  <!-- third-generation iPad with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon144.png">
  <!-- iPhone with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon114.png">
  <!-- first- and second-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon72.png">
  <!-- non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon57.png">
  <!-- basic favicon -->
          <link rel="shortcut icon" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon32.png">
  <!--[if IE]>
  <meta http-equiv="imagetoolbar" content="no">
  <script src="https://developer.cdn.mozilla.net/media/js/libs/html5.js"></script>
  <![endif]-->

    <link rel="alternate" type="application/json" href="nsIPrefBranch%24json.json">
  <link rel="canonical" href="nsIPrefBranch.html" >

            <link rel="alternate" hreflang="ja" href="https://developer.mozilla.org/ja/docs/XPCOM_Interface_Reference/nsIPrefBranch" title="nsIPrefBranch">
      
  <!-- document-specific social tags -->
  <meta property="og:title" content="nsIPrefBranch">
  <meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch">
  <meta name="twitter:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch">
  <meta name="twitter:title" content="nsIPrefBranch">
    <meta property="og:description" content="This object is created with a &#34;root&#34; value which describes the base point in the preferences &#34;tree&#34; from which this &#34;branch&#34; stems. Preferences are accessed off of this root by using just the final portion of the preference. For example, if this object is created with the root &#34;browser.startup.&#34;, the preferences &#34;browser.startup.page&#34;, &#34;browser.startup.homepage&#34;, and &#34;browser.startup.homepage_override&#34; can be accessed by simply passing &#34;page&#34;, &#34;homepage&#34;, or &#34;homepage_override&#34; to the various Get/Set methods.">
  <meta name="description" content="This object is created with a &#34;root&#34; value which describes the base point in the preferences &#34;tree&#34; from which this &#34;branch&#34; stems. Preferences are accessed off of this root by using just the final portion of the preference. For example, if this object is created with the root &#34;browser.startup.&#34;, the preferences &#34;browser.startup.page&#34;, &#34;browser.startup.homepage&#34;, and &#34;browser.startup.homepage_override&#34; can be accessed by simply passing &#34;page&#34;, &#34;homepage&#34;, or &#34;homepage_override&#34; to the various Get/Set methods.">
  <meta name="twitter:description" content="This object is created with a &#34;root&#34; value which describes the base point in the preferences &#34;tree&#34; from which this &#34;branch&#34; stems. Preferences are accessed off of this root by using just the final portion of the preference. For example, if this object is created with the root &#34;browser.startup.&#34;, the preferences &#34;browser.startup.page&#34;, &#34;browser.startup.homepage&#34;, and &#34;browser.startup.homepage_override&#34; can be accessed by simply passing &#34;page&#34;, &#34;homepage&#34;, or &#34;homepage_override&#34; to the various Get/Set methods.">
  
      <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','../../../../../../../../www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-36116321-5', 'mozilla.org');
    ga('set', 'anonymizeIp', true);

    
    
    
    (function() {
        // http://cfsimplicity.com/61/removing-analytics-clutter-from-campaign-urls
        var win = window;
        var removeUtms = function(){
            var location = win.location;
            if (location.hash.indexOf('utm') != -1) {
                var anchor = location.hash.match(/#(?!utm)[^&]+/);
                anchor = anchor ? anchor[0] : '';
                if(!anchor && win.history.replaceState){
                    history.replaceState({}, '', location.pathname + location.search);
                } else {
                    location.hash = anchor;
                }
            }
        };

        ga('send', 'pageview', removeUtms(win.location + ''));
    })();
</script>
  <script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"VgAEV1RTGwABU1NSAAQ="};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o?o:e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e){function n(t,e,n){n||(n={});for(var r=o[t],a=r&&r.length||0,s=n[i]||(n[i]={}),u=0;a>u;u++)r[u].apply(s,e);return s}function r(t,e){var n=o[t]||(o[t]=[]);n.push(e)}var o={},i="nr@context";e.exports={on:r,emit:n}},{}],2:[function(t){function e(t,e,n,i,s){return u?u-=1:r("err",[s||new UncaughtException(t,e,n)]),"function"==typeof a?a.apply(this,o(arguments)):!1}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function n(t){r("err",[t,(new Date).getTime()])}var r=t("handle"),o=t(6),i=t(5),a=window.onerror,s=!1,u=0;t("loader").features.push("err"),window.onerror=e,NREUM.noticeError=n;try{throw new Error}catch(d){"stack"in d&&(t(1),t(2),"addEventListener"in window&&t(3),window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&t(4),s=!0)}i.on("fn-start",function(){s&&(u+=1)}),i.on("fn-err",function(t,e,r){s&&(this.thrown=!0,n(r))}),i.on("fn-end",function(){s&&!this.thrown&&u>0&&(u-=1)}),i.on("internal-error",function(t){r("ierr",[t,(new Date).getTime(),!0])})},{1:5,2:4,3:3,4:6,5:1,6:14,handle:"D5DuLP",loader:"G9z0Bl"}],3:[function(t){function e(t){r.inPlace(t,["addEventListener","removeEventListener"],"-",n)}function n(t){return t[1]}var r=t(1),o=(t(3),t(2));if(e(window),"getPrototypeOf"in Object){for(var i=document;i&&!i.hasOwnProperty("addEventListener");)i=Object.getPrototypeOf(i);i&&e(i);for(var a=XMLHttpRequest.prototype;a&&!a.hasOwnProperty("addEventListener");)a=Object.getPrototypeOf(a);a&&e(a)}else XMLHttpRequest.prototype.hasOwnProperty("addEventListener")&&e(XMLHttpRequest.prototype);o.on("addEventListener-start",function(t){if(t[1]){var e=t[1];"function"==typeof e?this.wrapped=e["nr@wrapped"]?t[1]=e["nr@wrapped"]:e["nr@wrapped"]=t[1]=r(e,"fn-"):"function"==typeof e.handleEvent&&r.inPlace(e,["handleEvent"],"fn-")}}),o.on("removeEventListener-start",function(t){var e=this.wrapped;e&&(t[1]=e)})},{1:15,2:1,3:14}],4:[function(t){var e=(t(3),t(1)),n=t(2);e.inPlace(window,["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame"],"raf-"),n.on("raf-start",function(t){t[0]=e(t[0],"fn-")})},{1:15,2:1,3:14}],5:[function(t){function e(t){var e=t[0];"string"==typeof e&&(e=new Function(e)),t[0]=n(e,"fn-")}var n=(t(3),t(1)),r=t(2);n.inPlace(window,["setTimeout","setInterval","setImmediate"],"setTimer-"),r.on("setTimer-start",e)},{1:15,2:1,3:14}],6:[function(t){function e(){o.inPlace(this,s,"fn-")}function n(t,e){o.inPlace(e,["onreadystatechange"],"fn-")}function r(t,e){return e}var o=t(1),i=t(2),a=window.XMLHttpRequest,s=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"];window.XMLHttpRequest=function(t){var n=new a(t);try{i.emit("new-xhr",[],n),o.inPlace(n,["addEventListener","removeEventListener"],"-",function(t,e){return e}),n.addEventListener("readystatechange",e,!1)}catch(r){try{i.emit("internal-error",r)}catch(s){}}return n},window.XMLHttpRequest.prototype=a.prototype,o.inPlace(XMLHttpRequest.prototype,["open","send"],"-xhr-",r),i.on("send-xhr-start",n),i.on("open-xhr-start",n)},{1:15,2:1}],7:[function(t){function e(){function e(t){if("string"==typeof t&&t.length)return t.length;if("object"!=typeof t)return void 0;if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if("undefined"!=typeof FormData&&t instanceof FormData)return void 0;try{return JSON.stringify(t).length}catch(e){return void 0}}function n(t){var n=this.params,r=this.metrics;if(!this.ended){this.ended=!0;for(var i=0;u>i;i++)t.removeEventListener(s[i],this.listener,!1);if(!n.aborted){if(r.duration=(new Date).getTime()-this.startTime,4===t.readyState){n.status=t.status;var a=t.responseType,d="arraybuffer"===a||"blob"===a||"json"===a?t.response:t.responseText,f=e(d);if(f&&(r.rxSize=f),this.sameOrigin){var c=t.getResponseHeader("X-NewRelic-App-Data");c&&(n.cat=c.split(", ").pop())}}else n.status=0;r.cbTime=this.cbTime,o("xhr",[n,r])}}}function r(t,e){var n=i(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}t("loader").features.push("xhr");var o=t("handle"),i=t(1),a=t(5),s=["load","error","abort","timeout"],u=s.length,d=t(2);t(3),t(4),a.on("new-xhr",function(){this.totalCbs=0,this.called=0,this.cbTime=0,this.end=n,this.ended=!1,this.xhrGuids={}}),a.on("open-xhr-start",function(t){this.params={method:t[0]},r(this,t[1]),this.metrics={}}),a.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),a.on("send-xhr-start",function(t,n){var r=this.metrics,o=t[0],i=this;if(r&&o){var d=e(o);d&&(r.txSize=d)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(i.params.aborted=!0),("load"!==t.type||i.called===i.totalCbs&&(i.onloadCalled||"function"!=typeof n.onload))&&i.end(n)}catch(e){try{a.emit("internal-error",e)}catch(r){}}};for(var f=0;u>f;f++)n.addEventListener(s[f],this.listener,!1)}),a.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),a.on("xhr-load-added",function(t,e){var n=""+d(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),a.on("xhr-load-removed",function(t,e){var n=""+d(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),a.on("addEventListener-end",function(t,e){e instanceof XMLHttpRequest&&"load"===t[0]&&a.emit("xhr-load-added",[t[1],t[2]],e)}),a.on("removeEventListener-end",function(t,e){e instanceof XMLHttpRequest&&"load"===t[0]&&a.emit("xhr-load-removed",[t[1],t[2]],e)}),a.on("fn-start",function(t,e,n){e instanceof XMLHttpRequest&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),a.on("fn-end",function(t,e){this.xhrCbStart&&a.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent)&&e()},{1:8,2:11,3:3,4:6,5:1,handle:"D5DuLP",loader:"G9z0Bl"}],8:[function(t,e){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");return!r.port&&o[1]&&(r.port=o[1].split("https://developer.mozilla.org/")[0].split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname),r.sameOrigin=!e.hostname||e.hostname===document.domain&&e.port===n.port&&e.protocol===n.protocol,r}},{}],handle:[function(t,e){e.exports=t("D5DuLP")},{}],D5DuLP:[function(t,e){function n(t,e){var n=r[t];return n?n.apply(this,e):(o[t]||(o[t]=[]),void o[t].push(e))}var r={},o={};e.exports=n,n.queues=o,n.handlers=r},{}],11:[function(t,e){function n(t){if(!t||"object"!=typeof t&&"function"!=typeof t)return-1;if(t===window)return 0;if(o.call(t,"__nr"))return t.__nr;try{return Object.defineProperty(t,"__nr",{value:r,writable:!0,enumerable:!1}),r}catch(e){return t.__nr=r,r}finally{r+=1}}var r=1,o=Object.prototype.hasOwnProperty;e.exports=n},{}],loader:[function(t,e){e.exports=t("G9z0Bl")},{}],G9z0Bl:[function(t,e){function n(){var t=p.info=NREUM.info;if(t&&t.agent&&t.licenseKey&&t.applicationID&&u&&u.body){p.proto="https"===c.split(":")[0]||t.sslForHttp?"https://":"http://",a("mark",["onload",i()]);var e=u.createElement("script");e.src=p.proto+t.agent,u.body.appendChild(e)}}function r(){"complete"===u.readyState&&o()}function o(){a("mark",["domContent",i()])}function i(){return(new Date).getTime()}var a=t("handle"),s=window,u=s.document,d="addEventListener",f="attachEvent",c=(""+location).split("?")[0],p=e.exports={offset:i(),origin:c,features:[]};u[d]?(u[d]("DOMContentLoaded",o,!1),s[d]("load",n,!1)):(u[f]("onreadystatechange",r),s[f]("onload",n)),a("mark",["firstbyte",i()])},{handle:"D5DuLP"}],14:[function(t,e){function n(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(0>o?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=n},{}],15:[function(t,e){function n(t,e,r,s){function nrWrapper(){try{var n,a=u(arguments),d=this,f=r&&r(a,d)||{}}catch(c){i([c,"",[a,d,s],f])}o(e+"start",[a,d,s],f);try{return n=t.apply(d,a)}catch(p){throw o(e+"err",[a,d,p],f),p}finally{o(e+"end",[a,d,n],f)}}return a(t)?t:(e||(e=""),nrWrapper[n.flag]=!0,nrWrapper)}function r(t,e,r,o){r||(r="");var i,s,u,d="-"===r.charAt(0);for(u=0;u<e.length;u++)s=e[u],i=t[s],a(i)||(t[s]=n(i,d?s+r:r,o,s,t))}function o(t,e,n){try{s.emit(t,e,n)}catch(r){i([r,t,e,n])}}function i(t){try{s.emit("internal-error",t)}catch(e){}}function a(t){return!(t&&"function"==typeof t&&t.apply&&!t[n.flag])}var s=t(1),u=t(2);e.exports=n,n.inPlace=r,n.flag="nr@wrapper"},{1:1,2:14}]},{},["G9z0Bl",2,7]);</script></head>
<body data-slug="Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch" contextmenu="edit-history-menu" class="document  ">

  <script type="text/javascript">
    (function(win) {
        'use strict';

                    (function(){
  var FLAGS = {
    'derby_closed': true,'ga_outbound_links': true,'kumaediting': false,'page_move': false,'promote_script': false,'redirect_messages': false,'top_contributors': false,'wiki_spellcheck': false
    },
    SWITCHES = {
    'wiki_error_on_delete': false,'wiki_force_immediate_rendering': false,'render_stale_documents_async': true,'enable_optimizely': false
    },
    SAMPLES = {
    
    };
  window.waffle = {
    "flag_is_active": function waffle_flag(flag_name) {
      
      return !!FLAGS[flag_name];
    },
    "switch_is_active": function waffle_switch(switch_name) {
      
      return !!SWITCHES[switch_name];
    },
    "sample_is_active": function waffle_sample(sample_name) {
      
      return !!SAMPLES[sample_name];
    },
    "FLAGS": FLAGS,
    "SWITCHES": SWITCHES,
    "SAMPLES": SAMPLES
  };
})();

                
        // This represents the site configuration
        win.mdn = {
            build: '9fd3034',
            // Properties and settings for CKEditor will go here
            ckeditor: {},
            // Feature test results and methods will be placed here
            features: {},
            // The path to media (images, CSS, JS) in MDN
            mediaPath: 'https://developer.cdn.mozilla.net/media/',
            // Optimizely API
            optimizely: win['optimizely'] || [],
            // Site notifications
            notifications: [],
            
            // Wiki-specific settings will be placed here
            wiki: {
                autosuggestTitleUrl: '/en-US/docs/get-documents'
            },
        };

        // Ensures gettext always returns something, is always set
        win.gettext = function(x) {
            return x;
        }
    })(window);
</script>
  

  
  <ul id="nav-access">
    <li><a href="#document-main" id="skip-main">Skip to main content</a></li>
    <li><a id="skip-language" href="#language">Select language</a></li>
          <li><a href="#q" id="skip-search">Skip to search</a></li>
      </ul>

  <!-- Header -->
  <header id="main-header"><div class="center">

    <div class="clear header-login">
      <a href="http://www.mozilla.org/" id="tabzilla" class="no-track">mozilla</a>
                <script src="../../../../../../../../login.persona.org/include.js"></script>
<script type="text/javascript">
(function() {
  var allauth = window.allauth = window.allauth || {};

  function startWatching() {
    navigator.id.watch({
      onlogin: function(assertion) {
        // TODO: next url handling
        document.getElementById("_persona_assertion").value = assertion;
        document.getElementById("_persona_login").submit();
      },
      onlogout: function() {
        // TODO
      }
    })
  };

  allauth.persona = {
    login: function(nextUrl, process) {
        document.getElementById("_persona_next_url").value = nextUrl || '';
        document.getElementById("_persona_process").value = process;
        startWatching();
        navigator.id.request({"siteName": "Mozilla Developer Network", "siteLogo": "/media/redesign/img/opengraph-logo.png"});
    }
  }
})();
</script>

<form id="_persona_login" method="post" action="https://developer.mozilla.org/users/persona/login/">
  <div style='display:none'><input type='hidden' name='csrfmiddlewaretoken' value='OFUZvWX3cvltHNznKujHNL8vtsBRoNMa' /></div>
  <input type="hidden" name="next" value="" id="_persona_next_url"/>
  <input type="hidden" name="process" value="" id="_persona_process"/>
  <input type="hidden" name="assertion" id="_persona_assertion"/>
</form>

  <form>
      <div class="oauth-login-container" tabIndex="0">
          <div class="oauth-login-options">
              <span>Sign in with</span>
              <span class="oauth-icon oauth-persona" title="Sign in with Persona"><i class="icon-user" aria-hidden="true"></i></span>
                      </div>
          <div class="submenu oauth-login-picker" aria-hidden="true">
              <ul>
                  <li><a href="javascript:allauth.persona.login('/en\u002DUS/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch', 'login')" class="persona-button persona-loaded login-link" data-next="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch" data-service="Persona"><i class="icon-user" aria-hidden="true"></i>Persona</a></li>
                              </ul>
          </div>
      </div>
  </form>
          </div>

    <a href="https://developer.mozilla.org/en-US/" class="logo">Mozilla Developer Network</a>

    <nav id="main-nav" role="navigation"><ul><li><a href="https://developer.mozilla.org/en-US/docs/Zones">Zones<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu submenu-single" id="nav-zones-submenu">
          <div class="submenu-column">
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/Add-ons">Add-ons</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Apps">App Center</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox">Firefox</a></li>
              <li><a href="https://developer.mozilla.org/en-US/Marketplace">Firefox Marketplace</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox_OS">Firefox OS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Persona">Persona</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Web">Web Platform<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu" id="nav-platform-submenu">
          <div class="submenu-column">
            <div class="title">Technologies</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML">HTML</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">JavaScript</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Graphics">Graphics</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/API">APIs / DOM</a></li>
              <li><a href="https://developer.mozilla.org/en-US/Apps">Apps</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/MathML">MathML</a></li>
            </ul>
          </div><div class="submenu-column last">
            <div class="title">References & Guides</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Tutorials">Tutorials</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Reference">References</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide">Developer Guides</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility">Accessibility</a></li>
              <li><a href="https://developer.mozilla.org/en-US/demos/">Demos</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web">...more docs</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Tools">Tools</a></li><li><a href="https://developer.mozilla.org/en-US/demos/">Demos</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Connect">Connect</a></li><li class="main-nav-search"><form action="https://developer.mozilla.org/en-US/search" method="get" role="search">
        <div class="search-wrap">
          <label for="main-q" class="offscreen">Search</label>
          <input type="search" id="main-q" name="q" data-placeholder="Search" data-value="" value="" />
          <span class="search-trigger"><i aria-hidden="true" class="icon-search"></i></span>&nbsp;
          <button type="submit" class="offscreen">Search</button>
        </div>
      </form></li></ul></nav>
  </div></header>

  <!-- Content will go here -->
  <main id="content"><div class="center clear">
  
   <!-- end is_zone -->


    <div class="wiki-main-content" id="document-main"><div class="center">
            <div class="article-meta">
        <!-- action buttons -->
        
        
        

  <ul class="page-buttons" data-sticky="false"><li><button id="languages-menu" class="transparent" aria-haspopup="true" aria-owns="languages-menu-submenu" aria-expanded="false"><span>Languages</span><i aria-hidden="true" class="icon-globe"></i></button>

        <div class="submenu" id="languages-menu-submenu">
          <div class="submenu-column">
            <ul id="translations">
                                                <li><bdi><a rel="internal" href="https://developer.mozilla.org/ja/docs/XPCOM_Interface_Reference/nsIPrefBranch" title="nsIPrefBranch">日本語</a></bdi></li>
                              
                              <li><a href="https://developer.mozilla.org/en-US/users/signin/?next=/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch%24locales">Add a translation</a></li>
                          </ul>
          </div>
        </div></li><li class="page-buttons-edit"><a href="https://developer.mozilla.org/en-US/users/signin/?next=/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch%24edit" class="button" data-optimizely-hook="button-edit-doc" id="edit-button">Edit<i aria-hidden="true" class="icon-pencil"></i></a></li><li><button id="advanced-menu" class="only-icon" aria-haspopup="true" aria-owns="advanced-menu-submenu" aria-expanded="false"><span>Advanced</span><i aria-hidden="true" class="icon-cog"></i></button>

        <div class="submenu" id="advanced-menu-submenu">
          <!-- this page -->
          <div class="submenu-column">
            <div class="title">Advanced</div>
            <ul>
                <li><a href="nsIPrefBranch%24history.html">History</a></li>
                                                                
                
                                
                                                                <li class="page-print"><a href="#" onclick="return window.print();"  title="Print page">Print this page</a></li>
            </ul>
          </div>
        </div>
  </li></ul>

        <!-- crumbs -->
          <nav class="crumbs" role="navigation"><ol xmlns:v="http://rdf.data-vocabulary.org/#" aria-label="breadcrumbs">
    <li typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US" rel="v:url" property="v:title">MDN</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla" rel="v:url" property="v:title">Mozilla</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech" rel="v:url" property="v:title">Mozilla technologies</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM" rel="v:url" property="v:title">XPCOM</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference" rel="v:url" property="v:title">XPCOM reference</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="../Interface.html" rel="v:url" property="v:title">XPCOM Interface Reference</a></li>
        <li class="crumb" typeof="v:Breadcrumb" property="v:title">nsIPrefBranch</li>
  </ol></nav>
      </div>

      <!-- heading -->
      <div id="wiki-document-head" class="document-head">
          <span class="from-search-previous-box">
            <a class="button from-search-previous only-icon disabled" title="Previous Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-left"></i></a>
          </span>
          <span class="from-search-navigate-wrap">
            <a href="#" class="from-search-navigate"><span class="from-search-navigate-up"><i aria-hidden="true" class="icon-double-angle-up"></i></span><span class="from-search-navigate-down"><i aria-hidden="true" class="icon-double-angle-down"></i></span></a>
          </span>
          <div class="from-search-toc">
            <span class="title">Your Search Results</span>
            <ol></ol>
          </div>
          <span class="from-search-next-box">
            <a class="button from-search-next only-icon disabled" title="Next Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-right"></i></a>
          </span>
        <h1>nsIPrefBranch</h1>
        
      </div>
      
      <!-- start the main content container -->
        <div id="wiki-column-container" class="wiki-right-present wiki-left-closed wiki-left-none">

          
          <!-- content row with three strips -->
          <div class="column-container column-container-reverse">

                          <!-- TOC, approvals, etc -->
              <div class="column-strip wiki-column" id="wiki-right">
                            <!-- table of contents -->
              <div id="toc" class="toc toggleable">
                <a href="#toc" class="title toggler" data-open-icon="icon-plus" data-closed-icon="icon-minus">In This Article<i></i></a>
                <ol class="toggle-container">
                  <code></code><code></code><li><a href="#Method_overview" rel="internal">Method overview</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="#Attributes" rel="internal">Attributes</a><code></code><code></code><li><a href="#Constants" rel="internal">Constants</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="#Methods" rel="internal">Methods</a><ol><li><a href="#addObserver()" rel="internal">addObserver()</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="#clearUserPref()" rel="internal">clearUserPref()</a><code></code><li><a href="#deleteBranch()" rel="internal">deleteBranch()</a><code></code><li><a href="#getBoolPref()" rel="internal">getBoolPref()</a><code></code><li><a href="#getCharPref()" rel="internal">getCharPref()</a><code></code><code></code><li><a href="#getChildList()" rel="internal">getChildList()</a><code></code><code></code><code></code><code></code><code></code><li><a href="#getComplexValue()" rel="internal">getComplexValue()</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="#getIntPref()" rel="internal">getIntPref()</a><code></code><code></code><li><a href="#getPrefType()" rel="internal">getPrefType()</a><code></code><code></code><code></code><code></code><code></code><li><a href="#lockPref()" rel="internal">lockPref()</a><code></code><li><a href="#prefHasUserValue()" rel="internal">prefHasUserValue()</a><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="#prefIsLocked()" rel="internal">prefIsLocked()</a><code></code><code></code><code></code><code></code><li><a href="#removeObserver()" rel="internal">removeObserver()</a><code></code><code></code><code></code><code></code><li><a href="#resetBranch()" rel="internal">resetBranch()</a><code></code><li><a href="#setBoolPref()" rel="internal">setBoolPref()</a><code></code><code></code><li><a href="#setCharPref()" rel="internal">setCharPref()</a><code></code><code></code><li><a href="#setComplexValue()" rel="internal">setComplexValue()</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="#setIntPref()" rel="internal">setIntPref()</a><code></code><code></code><li><a href="#unlockPref()" rel="internal">unlockPref()</a><code></code></ol></li><li><a href="#Remarks" rel="internal">Remarks</a><code></code><code></code><li><a href="#See also" rel="internal">See also</a><code></code>
                </ol>
              </div>
                            </div>
            
                                                  
            <!-- center: main article content -->
            <div id="wiki-content" class="column-main wiki-column text-content">

              
              
                                                                                          
              <!-- just the article content -->
              <article id="wikiArticle">
                                                      <p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;"> 
<div style="background: #eee; padding: 2px;"><code><a class="external" href="http://mxr.mozilla.org/mozilla-central/source/modules/libpref/public/nsIPrefBranch.idl" rel="custom">modules/libpref/public/nsIPrefBranch.idl</a></code><span style="text-align: right; float: right;"><a href="en-US/docs/Interfaces/About_Scriptable_Interfaces.html" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div> 
<span style="padding: 4px 2px;"> 
 
This interface is used to manipulate the preferences data. This object may be obtained from the preferences service (nsIPrefService) and used to get and set default and/or user preferences across the application. 
</span> 
 
<div style="background: #eee; padding: 2px;"> 
Inherits from: <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsISupports" title="">nsISupports</a></code> 
<span style="text-align: right; float: right;">Last changed in Gecko 13 (Firefox 13 / Thunderbird 13 / SeaMonkey 2.10)</span></div> 
</div><p></p>
<p>This object is created with a "root" value which describes the base point in the preferences "tree" from which this "branch" stems. Preferences are accessed off of this root by using just the final portion of the preference. For example, if this object is created with the root "browser.startup.", the preferences "browser.startup.page", "browser.startup.homepage", and "browser.startup.homepage_override" can be accessed by simply passing "page", "homepage", or "homepage_override" to the various Get/Set methods.</p>
<h2 id="Method_overview" name="Method_overview">Method overview</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#addObserver()">addObserver</a>(in string aDomain, in nsIObserver aObserver, in boolean aHoldWeak);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#clearUserPref()">clearUserPref</a>(in string aPrefName);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#deleteBranch()">deleteBranch</a>(in string aStartingAt);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#getBoolPref()">getBoolPref</a>(in string aPrefName);</code></td>
  </tr>
  <tr>
   <td><code>string <a href="#getCharPref()">getCharPref</a>(in string aPrefName);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#getChildList()">getChildList</a>(in string aStartingAt, [optional] out unsigned long aCount, [array, size_is(aCount), retval] out string aChildArray);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#getComplexValue()">getComplexValue</a>(in string aPrefName, in nsIIDRef aType, [iid_is(aType), retval] out nsQIResult aValue);</code></td>
  </tr>
  <tr>
   <td><code>long <a href="#getIntPref()">getIntPref</a>(in string aPrefName);</code></td>
  </tr>
  <tr>
   <td><code>long <a href="#getPrefType()">getPrefType</a>(in string aPrefName);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#lockPref()">lockPref</a>(in string aPrefName);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#prefHasUserValue()">prefHasUserValue</a>(in string aPrefName);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#prefIsLocked()">prefIsLocked</a>(in string aPrefName);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#removeObserver()">removeObserver</a>(in string aDomain, in nsIObserver aObserver);</code> </td>
  </tr>
  <tr>
   <td><code>void <a href="#resetBranch()">resetBranch</a>(in string aStartingAt);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setBoolPref()">setBoolPref</a>(in string aPrefName, in long aValue);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setCharPref()">setCharPref</a>(in string aPrefName, in string aValue);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setComplexValue()">setComplexValue</a>(in string aPrefName, in nsIIDRef aType, in nsISupports aValue);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setIntPref()">setIntPref</a>(in string aPrefName, in long aValue);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#unlockPref()">unlockPref</a>(in string aPrefName);</code></td>
  </tr>
 </tbody>
</table>
<h2 id="Attributes" name="Attributes">Attributes</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Attribute</td>
   <td class="header">Type</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>root</code></td>
   <td><code><a class="new" href="https://developer.mozilla.org/en-US/docs/string" title="en/string">string</a></code></td>
   <td>Called to get the root on which this branch is based, such as "browser.startup." <strong>Read only.</strong></td>
  </tr>
 </tbody>
</table>
<h2 id="Constants" name="Constants">Constants</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Constant</td>
   <td class="header">Value</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>PREF_INVALID</code></td>
   <td><code>0</code></td>
   <td><code>long</code></td>
  </tr>
  <tr>
   <td><code>PREF_STRING</code></td>
   <td><code>32</code></td>
   <td><code>long</code> data type.</td>
  </tr>
  <tr>
   <td><code>PREF_INT</code></td>
   <td><code>64</code></td>
   <td><code>long</code> data type.</td>
  </tr>
  <tr>
   <td><code>PREF_BOOL</code></td>
   <td><code>128</code></td>
   <td><code>long</code> data type.</td>
  </tr>
 </tbody>
</table>
<h2 id="Methods" name="Methods">Methods</h2>
<p></p><div> 
    <span class="indicatorInHeadline standardNote standardNoteMethod">Requires Gecko 13 (Firefox 13 / Thunderbird 13 / SeaMonkey 2.10)</span> 
    <h3 id="addObserver()" name="addObserver()">addObserver()</h3> 
</div><p></p>
<p>Adds a preference change observer. On preference changes, the following arguments will be passed to <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIObserver#observe()">nsIObserver.observe()</a></code>:</p>
<p><code>aSubject</code> - The <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIPrefBranch" title="">nsIPrefBranch</a></code> object (this).</p>
<p><code>aTopic</code> - The string defined by <code>NS_PREFBRANCH_PREFCHANGE_TOPIC_ID</code></p>
<p><code>aData</code> - The name of the preference which has changed, relative to the "root" of the <code>aSubject</code> branch.</p>
<p><code>aSubject.get*Pref(aData)</code> will get the new value of the modified preference. For example, if your observer is registered with <code>addObserver("bar.", ...)</code> on a branch with root <code>"foo."</code>, modifying the preference <code>"foo.bar.baz"</code> will trigger the observer, and <code>aData</code> parameter will be <code>"bar.baz"</code>.</p>
<pre class="eval">void addObserver(
  in string aDomain, 
  in nsIObserver aObserver, 
  in boolean aHoldWeak
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aDomain</code></dt>
 <dd>
  The preference on which to listen for changes. This can be the name of an entire branch to observe. For example holding the "root" <code>prefbranch</code> and calling <code>addObserver("foo.bar.", ...)</code> will observe changes to <code>foo.bar.baz</code> and <code>foo.bar.bzip</code>.</dd>
 <dt>
  <code>aObserver</code></dt>
 <dd>
  The object to be notified if the preference changes.</dd>
 <dt>
  <code>aHoldWeak</code></dt>
 <dd>
  <code>true</code> holds a weak reference to <code>aObserver</code>. The object must implement the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsISupportsWeakReference" title="">nsISupportsWeakReference</a></code> interface or this will fail. <code>false</code> holds a strong reference to <code>aObserver</code>.</dd>
</dl>
<h3 id="clearUserPref()" name="clearUserPref()">clearUserPref()</h3>
<p>Called to clear a user set value from a specific preference. This will, in effect, reset the value to the default value. If no default value exists the preference will cease to exist.</p>
<p></p><div class="note"><strong>Note:</strong> This method does nothing if the prefbranch it is called on is a default branch.</div><p></p>
<pre class="eval">void clearUserPref(
  in string aPrefName
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrefName</code></dt>
 <dd>
  The preference to be cleared.</dd>
</dl>
<h6 id="Remarks_2">Remarks</h6>
<div class="note">
 <p><strong>Note:</strong> Prior to <span title="(Firefox 6.0 / Thunderbird 6.0 / SeaMonkey 2.3)">Gecko 6.0</span>, this method would throw an exception if there was no user value set for the specified preference. Now, this method never throws. Instead, it simply does nothing.</p>
</div>
<h3 id="deleteBranch()" name="deleteBranch()">deleteBranch()</h3>
<p>Called to remove all of the preferences referenced by this branch.</p>
<p></p><div class="note"><strong>Note:</strong> This method can be called on either a default or user branch but, in effect, always operates on both.</div><p></p>
<pre class="eval">void deleteBranch(
  in string aStartingAt
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aStartingAt</code></dt>
 <dd>
  The point on the branch at which to start the deleting preferences. Pass in "" to remove all preferences referenced by this branch.</dd>
</dl>
<h3 id="getBoolPref()" name="getBoolPref()">getBoolPref()</h3>
<p>Called to get the state of an individual boolean preference.</p>
<pre class="eval">boolean getBoolPref(
  in string aPrefName
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrefName</code></dt>
 <dd>
  The boolean preference to get the state of.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>The value of the requested boolean preference.</p>
<h3 id="getCharPref()" name="getCharPref()">getCharPref()</h3>
<p>Called to get the state of an individual string preference.</p>
<pre class="eval">string getCharPref(
  in string aPrefName
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrefName</code></dt>
 <dd>
  The string preference to retrieve.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Returns <code>string</code> - The value of the requested string preference.</p>
<h3 id="getChildList()" name="getChildList()">getChildList()</h3>
<p>Returns an array of strings representing the child preferences of the <code>root</code> of this branch.</p>
<p></p><div class="note"><strong>Note:</strong> This method can be called on either a default or user branch but, in effect, always operates on both.</div><p></p>
<p>(To call from javascript use <code>children = nsIPrefBranch.getChildList("",obj)</code>, which will fill in obj.value with the count and <em>return</em> an array of keys! (It is <em>not</em> void in javascript)</p>
<pre class="eval">void getChildList(
  in string aStartingAt,
  out unsigned long aCount,
  [array, size_is(aCount), retval] out string aChildArray
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aStartingAt</code></dt>
 <dd>
  The point on the branch at which to start enumerating the child preferences. Pass in "" to enumerate all preferences referenced by this branch.</dd>
 <dt>
  <code>aCount</code> <span class="inlineIndicator optional optionalInline">Optional from Gecko 2.0</span></dt>
 <dd>
  Receives the number of elements in the array.</dd>
 <dt>
  <code>aChildArray</code></dt>
 <dd>
  Receives the array of child preferences.</dd>
</dl>
<h3 id="getComplexValue()" name="getComplexValue()">getComplexValue()</h3>
<p>Called to get the state of an individual complex preference. A complex preference is a preference which represents an XPCOM object that can not be easily represented using a standard boolean, integer or string value.</p>
<pre class="eval">void getComplexValue(
  in string aPrefName,
  in nsIIDRef aType,
  [iid_is(aType), retval] out nsQIResult aValue
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrefName</code></dt>
 <dd>
  The complex preference to get the value of.</dd>
 <dt>
  <code>aType</code></dt>
 <dd>
  The XPCOM interface that this complex preference represents. Interfaces currently supported are:
  <ul>
   <li><code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/NsILocalFile" title="">NsILocalFile</a></code></li>
   <li><code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/NsISupportsString" title="">NsISupportsString</a></code> (UniChar)</li>
   <li><code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/NsIPrefLocalizedString" title="">NsIPrefLocalizedString</a></code> (Localized UniChar)</li>
   <li><code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/NsIFileSpec" title="">NsIFileSpec</a></code> (deprecated - to be removed eventually)</li>
  </ul>
 </dd>
 <dt>
  <code>aValue</code></dt>
 <dd>
  The XPCOM object into which to the complex preference value should be retrieved.</dd>
</dl>
<h3 id="getIntPref()" name="getIntPref()">getIntPref()</h3>
<p>Called to get the state of an individual integer preference.</p>
<pre class="eval">long getIntPref(
  in string aPrefName
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrefName</code></dt>
 <dd>
  The integer preference to get the value of.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Returns <code>long</code> - The value of the requested integer preference.</p>
<h3 id="getPrefType()" name="getPrefType()">getPrefType()</h3>
<p>Called to determine the type of a specific preference.</p>
<pre class="eval">long getPrefType(
  in string aPrefName
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrefName</code></dt>
 <dd>
  The preference to get the type of.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Returns <code>long</code> - A value representing the type of the preference. This value will be <code>PREF_STRING</code>, <code>PREF_INT, PREF_BOOL,</code> or <code>PREF_INVALID</code>.</p>
<h3 id="lockPref()" name="lockPref()">lockPref()</h3>
<p>Called to lock a specific preference. Locking a preference will cause the preference service to always return the default value regardless of whether there is a user set value or not.</p>
<p></p><div class="note"><strong>Note:</strong> This method can be called on either a default or user branch but, in effect, always operates on the default branch.</div><p></p>
<pre class="eval">void lockPref(
  in string aPrefName
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrefName</code></dt>
 <dd>
  The preference to be locked.</dd>
</dl>
<h3 id="prefHasUserValue()" name="prefHasUserValue()">prefHasUserValue()</h3>
<p>Called to check if a specific preference has a user value associated to it.</p>
<p></p><div class="note"><strong>Note:</strong> This method can be called on either a default or user branch but, in effect, always operates on the user branch.</div><p></p>
<p></p><div class="note"><strong>Note:</strong> If a preference was manually set to a value that equals the default value, then the preference no longer has a user set value, i.e. it is considered reset to its default value. In particular, this method will return <code>false</code> for such a preference and the preference will not be saved to a file by <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIPrefService#savePrefFile()">nsIPrefService.savePrefFile()</a></code>.</div><p></p>
<pre class="eval">boolean prefHasUserValue(
  in string aPrefName
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrefName</code></dt>
 <dd>
  The preference to be tested.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Returns <code>boolean</code> - <code>true</code> The preference has a user set value. <code>false</code> The preference only has a default value.</p>
<h3 id="prefIsLocked()" name="prefIsLocked()">prefIsLocked()</h3>
<p>Called to check if a specific preference is locked. If a preference is locked calling its Get method will always return the default value.</p>
<p></p><div class="note"><strong>Note:</strong> This method can be called on either a default or user branch but, in effect, always operates on the default branch.</div><p></p>
<pre class="eval">boolean prefIsLocked(
  in string aPrefName
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrefName</code></dt>
 <dd>
  The preference to be tested.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>Returns <code>boolean</code> - <code>true</code> The preference is locked. <code>false</code> The preference is not locked.</p>
<p></p><div> 
    <span class="indicatorInHeadline standardNote standardNoteMethod">Requires Gecko 13 (Firefox 13 / Thunderbird 13 / SeaMonkey 2.10)</span> 
    <h3 id="removeObserver()" name="removeObserver()">removeObserver()</h3> 
</div><p></p>
<p>Remove a preference change observer.</p>
<p></p><div class="note"><strong>Note:</strong> You must call <code>removeObserver</code> method on the same nsIPrefBranch instance on which you called <a href="#addObserver()">addObserver</a> method in order to remove <code>aObserver</code>; otherwise, the observer will not be removed.</div><p></p>
<pre class="eval">  void removeObserver(
     in string aDomain, 
     in nsIObserver aObserver
  );
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aDomain</code></dt>
 <dd>
  The preference which is being observed for changes.</dd>
 <dt>
  <code>aObserver</code></dt>
 <dd>
  An observer previously registered with <a href="#addObserver()">addObserver</a>.</dd>
</dl>
<h3 id="resetBranch()" name="resetBranch()">resetBranch()</h3>
<p>Called to reset all of the preferences referenced by this branch to their default values.</p>
<p></p><div class="note"><strong>Note:</strong> This method can be called on either a default or user branch but, in effect, always operates on the user branch.</div><p></p>
<p></p><div class="note"><strong>Note:</strong> As of Firefox 3.0, this function has not yet been implemented.</div><p></p>
<pre class="eval">void resetBranch(
  in string aStartingAt
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aStartingAt</code></dt>
 <dd>
  The point on the branch at which to start the resetting preferences to their default values. Pass in "" to reset all preferences referenced by this branch.</dd>
</dl>
<h3 id="setBoolPref()" name="setBoolPref()">setBoolPref()</h3>
<p>Called to set the state of an individual boolean preference.</p>
<pre class="eval">void setBoolPref(
  in string aPrefName,
  in long aValue
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrefName</code></dt>
 <dd>
  The boolean preference to set the state of.</dd>
 <dt>
  <code>aValue</code></dt>
 <dd>
  The boolean value to set the preference to.</dd>
</dl>
<h3 id="setCharPref()" name="setCharPref()">setCharPref()</h3>
<p>Called to set the state of an individual string preference.</p>
<div class="note">
 <strong>Note:</strong> The preferences system is not designed to store large amounts of data: all preferences are stored in a single file, which is read at the application startup. If you find yourself wondering what is the maximum amount of data you can store in a string preference, consider storing data separately, for example in a <a href="https://developer.mozilla.org/en-US/docs/Code_snippets/File_I_O" title="en/Code snippets/File I//O">flat file</a> or an <a href="https://developer.mozilla.org/en-US/docs/Storage" title="en/Storage">sqlite database</a>.</div>
<pre class="eval">void setCharPref(
  in string aPrefName,
  in string aValue
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrefName</code></dt>
 <dd>
  The string preference to set.</dd>
 <dt>
  <code>aValue</code></dt>
 <dd>
  The string value to set the preference to.</dd>
</dl>
<h3 id="setComplexValue()" name="setComplexValue()">setComplexValue()</h3>
<p>Called to set the state of an individual complex preference. A complex preference is a preference which represents an XPCOM object that can not be easily represented using a standard boolean, integer or string value.</p>
<pre class="eval">void setComplexValue(
  in string aPrefName,
  in nsIIDRef aType,
  in nsISupports aValue
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrefName</code></dt>
 <dd>
  The complex preference to set the value of.</dd>
 <dt>
  <code>aType</code></dt>
 <dd>
  The XPCOM interface that this complex preference represents. Interfaces currently supported are:
  <ul>
   <li><code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/NsILocalFile" title="">NsILocalFile</a></code></li>
   <li><code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/NsISupportsString" title="">NsISupportsString</a></code> (UniChar)</li>
   <li><code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/NsIPrefLocalizedString" title="">NsIPrefLocalizedString</a></code> (Localized UniChar)</li>
   <li><code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/NsIFileSpec" title="">NsIFileSpec</a></code> (deprecated - to be removed eventually)</li>
  </ul>
 </dd>
 <dt>
  <code>aValue</code></dt>
 <dd>
  The XPCOM object from which to set the complex preference value.</dd>
</dl>
<h3 id="setIntPref()" name="setIntPref()">setIntPref()</h3>
<p>Called to set the state of an individual integer preference.</p>
<pre class="eval">void setIntPref(
  in string aPrefName,
  in long aValue
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrefName</code></dt>
 <dd>
  The integer preference to set the value of.</dd>
 <dt>
  <code>aValue</code></dt>
 <dd>
  The integer value to set the preference to.</dd>
</dl>
<h3 id="unlockPref()" name="unlockPref()">unlockPref()</h3>
<p>Called to unlock a specific preference. Unlocking a previously locked preference allows the preference service to once again return the user set value of the preference.</p>
<p></p><div class="note"><strong>Note:</strong> This method can be called on either a default or user branch but, in effect, always operates on the default branch.</div><p></p>
<pre class="eval">void unlockPref(
  in string aPrefName
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aPrefName</code></dt>
 <dd>
  The preference to be unlocked.</dd>
</dl>
<h2 id="Remarks" name="Remarks">Remarks</h2>
<p>Registering as a preference observer can open an object to potential cyclical references which will cause memory leaks. These cycles generally occur because an object both registers itself as an observer (causing the branch to hold a reference to the observer) and holds a reference to the branch object for the purpose of getting/setting preference values. There are 3 approaches which have been implemented in an attempt to avoid these situations:</p>
<ol>
 <li>The nsPrefBranch object supports <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsISupportsWeakReference" title="">nsISupportsWeakReference</a></code>. Any consumer may hold a weak reference to it instead of a strong one.</li>
 <li>The nsPrefBranch object listens for xpcom-shutdown and frees all of the objects currently in its observer list. This ensures that long lived objects (services for example) will be freed correctly.</li>
 <li>The observer can request to be held as a weak reference when it is registered. This insures that shorter lived objects (say one tied to an open window) will not fall into the cyclical reference trap.</li>
</ol>
<p>The list of registered observers may be changed during the dispatch of nsPref:changed notification. However, the observers are not guaranteed to be notified in any particular order, so you can't be sure whether the added/removed observer will be called during the notification when it is added/removed. </p>
<p>It is possible to change preferences during the notification.</p>
<p>It is not safe to change observers during this callback in releases before <span title="(Firefox 3)">Gecko 1.9</span>. If you want a safe way to remove a preference observer, please use an <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsITimer" title="">nsITimer</a></code>.</p>
<h2 id="See also" name="See also"><a>See also</a></h2>
<ul>
 <li><code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIPrefService" title="">nsIPrefService</a></code></li>
</ul>
                                                </article>

              
                <!-- attachments list -->
                
                <!-- contributors -->
                <div class="wiki-block contributors">
                  <h2 class="offscreen">Document Tags and Contributors</h2>
                                                      <!-- tags if present -->
                  <div class="tag-attach-list tags contributor-sub">
                    <i aria-hidden="true" class="icon-tags"></i><strong>Tags:</strong>
                    <ul class="tag-list"><li><a href="https://developer.mozilla.org/en-US/docs/tag/XPCOM Interface Reference">XPCOM Interface Reference</a></li><li><a href="https://developer.mozilla.org/en-US/docs/tag/Interfaces:Scriptable">Interfaces:Scriptable</a></li><li><a href="https://developer.mozilla.org/en-US/docs/tag/XPCOM">XPCOM</a></li><li><a href="https://developer.mozilla.org/en-US/docs/tag/Interfaces">Interfaces</a></li><li><a href="https://developer.mozilla.org/en-US/docs/tag/XPCOM API Reference">XPCOM API Reference</a></li></ul>
                  </div>
                                    <div class="contributor-sub"> <i aria-hidden="true" class="icon-group"></i><strong>Contributors to this page:</strong> <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/GijsKruitbosch">GijsKruitbosch</a>, <a href="https://developer.mozilla.org/en-US/profiles/Nickolay">Nickolay</a>, <a href="https://developer.mozilla.org/en-US/profiles/Johnjbarton">Johnjbarton</a>, <a href="https://developer.mozilla.org/en-US/profiles/trevorh">trevorh</a>, <a href="https://developer.mozilla.org/en-US/profiles/kscarfone">kscarfone</a>, <a href="https://developer.mozilla.org/en-US/profiles/Dao">Dao</a>, <a href="https://developer.mozilla.org/en-US/profiles/mnoorenberghe">mnoorenberghe</a>, <a href="https://developer.mozilla.org/en-US/profiles/Amertner">Amertner</a>, <a href="https://developer.mozilla.org/en-US/profiles/KampfCaspar">KampfCaspar</a>, <a href="https://developer.mozilla.org/en-US/profiles/Kglee">Kglee</a>, <a href="https://developer.mozilla.org/en-US/profiles/darktrojan">darktrojan</a> </div>                                      <div class="contributor-sub">
                      <i aria-hidden="true" class="icon-clock-o"></i><strong>Last updated by:</strong>
                      <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>,
                      <time datetime="2014-04-14T10:42:07-07:00">Apr 14, 2014 10:42:07 AM</time>
                    </div>
                                  </div>
                          </div>

                      </div>
        </div>
      </div>
    </div> <!-- ends "main-content" -->

  <menu type="context" id="edit-history-menu">
    <menuitem data-action="$edit" label="Edit page"></menuitem>
    <menuitem data-action="$history" label="View page history"></menuitem>
  </menu>
  </div></main>

  <!-- Footer -->
  <footer><div class="center">
    <div class="column-container">
      <div class="column-main">
                <p>
          <bdi>&copy; 2005-2014 Mozilla Developer Network and individual contributors<br /> Content is available under <a href="https://developer.mozilla.org/en-US/docs/Project:MDN/About#Copyrights_and_licenses">these licenses</a> &middot; <a href="https://developer.mozilla.org/en-US/docs/Project:MDN/About">About MDN</a> &middot; <a href="http://github.com/mozilla/kuma">Contribute to the code</a> &middot; <a href="http://www.mozilla.org/privacy/websites/">Privacy policy</a></bdi>        </p>
              </div>
      <div class="column-strip">
                        <form class="languages go" method="get" action="https://developer.mozilla.org/en-US/docs/Web">
      <label for="language">Other languages:</label>
      <select id="language" class="wiki-l10n" name="next" dir="ltr">
        <option value="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch" selected>
          English (US)
        </option>
                  <option value="/ja/docs/XPCOM_Interface_Reference/nsIPrefBranch">
            日本語
          </option>      </select>
      <noscript><button type="submit">Go</button></noscript>
    </form>
                </div>
    </div>
  </div></footer>

  <!-- site js -->
    <script src="https://developer.mozilla.org/en-US/jsi18n/build:9fd3034"></script>
  
      <!--[if lte IE 8]><script src="/media/redesign/js/libs/selectivizr-1.0.2/selectivizr-build.js?build=9fd3034"></script><![endif]-->

    <script src="../../../../../../../../developer.cdn.mozilla.net/media/js/main-min46d5.js?build=9fd3034"></script>

          <script>
        mdn.analytics.trackOutboundLinks(document.body);
      </script>
    
          <script src="../../../../../../../../developer.cdn.mozilla.net/media/js/wiki-min46d5.js?build=9fd3034"></script>
      
    <script type="text/javascript">
      jQuery('.from-search-toc').mozSearchResults('');
  </script>

  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"beacon-3.newrelic.com","queueTime":1,"licenseKey":"42869b6ed3","agent":"js-agent.newrelic.com/nr-411.min.js","transactionName":"b1QHMUtVDRdSW0YKXVYeIxBXVxcNXFYdFFtTWEsTUFEUFwlcXQBHVVQLEQ==","applicationID":"3172075","errorBeacon":"bam.nr-data.net","applicationTime":361}</script></body>

<!-- Mirrored from developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIPrefBranch by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Aug 2014 20:22:04 GMT -->
</html>