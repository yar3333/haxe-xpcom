<!DOCTYPE html>
<html lang="en-US" dir="ltr" class="redesign no-js">

<!-- Mirrored from developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWindowMediator by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Aug 2014 20:28:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head prefix="og: http://ogp.me/ns#">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <script>(function(d) { d.className = d.className.replace(/\bno-js/, ''); })(document.documentElement);</script>
        
    <title>nsIWindowMediator - Mozilla | MDN</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="index, follow">
  <link rel="home" href="https://developer.mozilla.org/en-US/">
  <link rel="copyright" href="#copyright">

  <link href="../../../../../../../../mozorg.cdn.mozilla.net/media/css/tabzilla-min.css" type="text/css" rel="stylesheet">
              <link rel="stylesheet" media="all" href="../../../../../../../../developer.cdn.mozilla.net/media/css/mdn-min46d5.css?build=9fd3034" />

      
    <link rel="stylesheet" media="all" href="../../../../../../../../developer.cdn.mozilla.net/media/css/wiki-min46d5.css?build=9fd3034" />

          <link rel="stylesheet" type="text/css"
            href="https://developer.mozilla.org/en-US/docs/Template:CustomCSS?raw=1" />
    
    
  <!-- common social tags -->
    <meta property="og:type" content="website">
  <meta property="og:image" content="https://developer.mozilla.org/media/redesign/img/opengraph-logo.png">
  <meta property="og:site_name" content="Mozilla Developer Network">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://developer.mozilla.org/media/redesign/img/opengraph-logo.png">
  <meta name="twitter:site" content="@NewOnMDN">
  <meta name="twitter:creator" content="@NewOnMDN">

  <link rel="search" type="application/opensearchdescription+xml" href="https://developer.mozilla.org/en-US/search/xml" title="Mozilla Developer Network">

  <!-- third-generation iPad with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon144.png">
  <!-- iPhone with high-resolution Retina display: -->
  <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon114.png">
  <!-- first- and second-generation iPad: -->
  <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon72.png">
  <!-- non-Retina iPhone, iPod Touch, and Android 2.1+ devices: -->
  <link rel="apple-touch-icon-precomposed" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon57.png">
  <!-- basic favicon -->
          <link rel="shortcut icon" href="../../../../../../../../developer.cdn.mozilla.net/media/redesign/img/favicon32.png">
  <!--[if IE]>
  <meta http-equiv="imagetoolbar" content="no">
  <script src="https://developer.cdn.mozilla.net/media/js/libs/html5.js"></script>
  <![endif]-->

    <link rel="alternate" type="application/json" href="nsIWindowMediator%24json.json">
  <link rel="canonical" href="nsIWindowMediator.html" >

            <link rel="alternate" hreflang="ja" href="https://developer.mozilla.org/ja/docs/XPCOM_Interface_Reference/nsIWindowMediator" title="nsIWindowMediator">
      
  <!-- document-specific social tags -->
  <meta property="og:title" content="nsIWindowMediator">
  <meta property="og:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWindowMediator">
  <meta name="twitter:url" content="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWindowMediator">
  <meta name="twitter:title" content="nsIWindowMediator">
    <meta property="og:description" content="The two most common uses of nsIWindowMediator are, enumerating all windows of a given type and getting the most recent / any window of a given type.">
  <meta name="description" content="The two most common uses of nsIWindowMediator are, enumerating all windows of a given type and getting the most recent / any window of a given type.">
  <meta name="twitter:description" content="The two most common uses of nsIWindowMediator are, enumerating all windows of a given type and getting the most recent / any window of a given type.">
  
      <script type="text/javascript">

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','../../../../../../../../www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-36116321-5', 'mozilla.org');
    ga('set', 'anonymizeIp', true);

    
    
    
    (function() {
        // http://cfsimplicity.com/61/removing-analytics-clutter-from-campaign-urls
        var win = window;
        var removeUtms = function(){
            var location = win.location;
            if (location.hash.indexOf('utm') != -1) {
                var anchor = location.hash.match(/#(?!utm)[^&]+/);
                anchor = anchor ? anchor[0] : '';
                if(!anchor && win.history.replaceState){
                    history.replaceState({}, '', location.pathname + location.search);
                } else {
                    location.hash = anchor;
                }
            }
        };

        ga('send', 'pageview', removeUtms(win.location + ''));
    })();
</script>
  <script type="text/javascript">(window.NREUM||(NREUM={})).loader_config={xpid:"VgAEV1RTGwABU1NSAAQ="};window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o?o:e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e){function n(t,e,n){n||(n={});for(var r=o[t],a=r&&r.length||0,s=n[i]||(n[i]={}),u=0;a>u;u++)r[u].apply(s,e);return s}function r(t,e){var n=o[t]||(o[t]=[]);n.push(e)}var o={},i="nr@context";e.exports={on:r,emit:n}},{}],2:[function(t){function e(t,e,n,i,s){return u?u-=1:r("err",[s||new UncaughtException(t,e,n)]),"function"==typeof a?a.apply(this,o(arguments)):!1}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function n(t){r("err",[t,(new Date).getTime()])}var r=t("handle"),o=t(6),i=t(5),a=window.onerror,s=!1,u=0;t("loader").features.push("err"),window.onerror=e,NREUM.noticeError=n;try{throw new Error}catch(d){"stack"in d&&(t(1),t(2),"addEventListener"in window&&t(3),window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&t(4),s=!0)}i.on("fn-start",function(){s&&(u+=1)}),i.on("fn-err",function(t,e,r){s&&(this.thrown=!0,n(r))}),i.on("fn-end",function(){s&&!this.thrown&&u>0&&(u-=1)}),i.on("internal-error",function(t){r("ierr",[t,(new Date).getTime(),!0])})},{1:5,2:4,3:3,4:6,5:1,6:14,handle:"D5DuLP",loader:"G9z0Bl"}],3:[function(t){function e(t){r.inPlace(t,["addEventListener","removeEventListener"],"-",n)}function n(t){return t[1]}var r=t(1),o=(t(3),t(2));if(e(window),"getPrototypeOf"in Object){for(var i=document;i&&!i.hasOwnProperty("addEventListener");)i=Object.getPrototypeOf(i);i&&e(i);for(var a=XMLHttpRequest.prototype;a&&!a.hasOwnProperty("addEventListener");)a=Object.getPrototypeOf(a);a&&e(a)}else XMLHttpRequest.prototype.hasOwnProperty("addEventListener")&&e(XMLHttpRequest.prototype);o.on("addEventListener-start",function(t){if(t[1]){var e=t[1];"function"==typeof e?this.wrapped=e["nr@wrapped"]?t[1]=e["nr@wrapped"]:e["nr@wrapped"]=t[1]=r(e,"fn-"):"function"==typeof e.handleEvent&&r.inPlace(e,["handleEvent"],"fn-")}}),o.on("removeEventListener-start",function(t){var e=this.wrapped;e&&(t[1]=e)})},{1:15,2:1,3:14}],4:[function(t){var e=(t(3),t(1)),n=t(2);e.inPlace(window,["requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame"],"raf-"),n.on("raf-start",function(t){t[0]=e(t[0],"fn-")})},{1:15,2:1,3:14}],5:[function(t){function e(t){var e=t[0];"string"==typeof e&&(e=new Function(e)),t[0]=n(e,"fn-")}var n=(t(3),t(1)),r=t(2);n.inPlace(window,["setTimeout","setInterval","setImmediate"],"setTimer-"),r.on("setTimer-start",e)},{1:15,2:1,3:14}],6:[function(t){function e(){o.inPlace(this,s,"fn-")}function n(t,e){o.inPlace(e,["onreadystatechange"],"fn-")}function r(t,e){return e}var o=t(1),i=t(2),a=window.XMLHttpRequest,s=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"];window.XMLHttpRequest=function(t){var n=new a(t);try{i.emit("new-xhr",[],n),o.inPlace(n,["addEventListener","removeEventListener"],"-",function(t,e){return e}),n.addEventListener("readystatechange",e,!1)}catch(r){try{i.emit("internal-error",r)}catch(s){}}return n},window.XMLHttpRequest.prototype=a.prototype,o.inPlace(XMLHttpRequest.prototype,["open","send"],"-xhr-",r),i.on("send-xhr-start",n),i.on("open-xhr-start",n)},{1:15,2:1}],7:[function(t){function e(){function e(t){if("string"==typeof t&&t.length)return t.length;if("object"!=typeof t)return void 0;if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if("undefined"!=typeof FormData&&t instanceof FormData)return void 0;try{return JSON.stringify(t).length}catch(e){return void 0}}function n(t){var n=this.params,r=this.metrics;if(!this.ended){this.ended=!0;for(var i=0;u>i;i++)t.removeEventListener(s[i],this.listener,!1);if(!n.aborted){if(r.duration=(new Date).getTime()-this.startTime,4===t.readyState){n.status=t.status;var a=t.responseType,d="arraybuffer"===a||"blob"===a||"json"===a?t.response:t.responseText,f=e(d);if(f&&(r.rxSize=f),this.sameOrigin){var c=t.getResponseHeader("X-NewRelic-App-Data");c&&(n.cat=c.split(", ").pop())}}else n.status=0;r.cbTime=this.cbTime,o("xhr",[n,r])}}}function r(t,e){var n=i(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}t("loader").features.push("xhr");var o=t("handle"),i=t(1),a=t(5),s=["load","error","abort","timeout"],u=s.length,d=t(2);t(3),t(4),a.on("new-xhr",function(){this.totalCbs=0,this.called=0,this.cbTime=0,this.end=n,this.ended=!1,this.xhrGuids={}}),a.on("open-xhr-start",function(t){this.params={method:t[0]},r(this,t[1]),this.metrics={}}),a.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),a.on("send-xhr-start",function(t,n){var r=this.metrics,o=t[0],i=this;if(r&&o){var d=e(o);d&&(r.txSize=d)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(i.params.aborted=!0),("load"!==t.type||i.called===i.totalCbs&&(i.onloadCalled||"function"!=typeof n.onload))&&i.end(n)}catch(e){try{a.emit("internal-error",e)}catch(r){}}};for(var f=0;u>f;f++)n.addEventListener(s[f],this.listener,!1)}),a.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),a.on("xhr-load-added",function(t,e){var n=""+d(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),a.on("xhr-load-removed",function(t,e){var n=""+d(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),a.on("addEventListener-end",function(t,e){e instanceof XMLHttpRequest&&"load"===t[0]&&a.emit("xhr-load-added",[t[1],t[2]],e)}),a.on("removeEventListener-end",function(t,e){e instanceof XMLHttpRequest&&"load"===t[0]&&a.emit("xhr-load-removed",[t[1],t[2]],e)}),a.on("fn-start",function(t,e,n){e instanceof XMLHttpRequest&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),a.on("fn-end",function(t,e){this.xhrCbStart&&a.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}window.XMLHttpRequest&&XMLHttpRequest.prototype&&XMLHttpRequest.prototype.addEventListener&&!/CriOS/.test(navigator.userAgent)&&e()},{1:8,2:11,3:3,4:6,5:1,handle:"D5DuLP",loader:"G9z0Bl"}],8:[function(t,e){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");return!r.port&&o[1]&&(r.port=o[1].split("https://developer.mozilla.org/")[0].split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname),r.sameOrigin=!e.hostname||e.hostname===document.domain&&e.port===n.port&&e.protocol===n.protocol,r}},{}],handle:[function(t,e){e.exports=t("D5DuLP")},{}],D5DuLP:[function(t,e){function n(t,e){var n=r[t];return n?n.apply(this,e):(o[t]||(o[t]=[]),void o[t].push(e))}var r={},o={};e.exports=n,n.queues=o,n.handlers=r},{}],11:[function(t,e){function n(t){if(!t||"object"!=typeof t&&"function"!=typeof t)return-1;if(t===window)return 0;if(o.call(t,"__nr"))return t.__nr;try{return Object.defineProperty(t,"__nr",{value:r,writable:!0,enumerable:!1}),r}catch(e){return t.__nr=r,r}finally{r+=1}}var r=1,o=Object.prototype.hasOwnProperty;e.exports=n},{}],loader:[function(t,e){e.exports=t("G9z0Bl")},{}],G9z0Bl:[function(t,e){function n(){var t=p.info=NREUM.info;if(t&&t.agent&&t.licenseKey&&t.applicationID&&u&&u.body){p.proto="https"===c.split(":")[0]||t.sslForHttp?"https://":"http://",a("mark",["onload",i()]);var e=u.createElement("script");e.src=p.proto+t.agent,u.body.appendChild(e)}}function r(){"complete"===u.readyState&&o()}function o(){a("mark",["domContent",i()])}function i(){return(new Date).getTime()}var a=t("handle"),s=window,u=s.document,d="addEventListener",f="attachEvent",c=(""+location).split("?")[0],p=e.exports={offset:i(),origin:c,features:[]};u[d]?(u[d]("DOMContentLoaded",o,!1),s[d]("load",n,!1)):(u[f]("onreadystatechange",r),s[f]("onload",n)),a("mark",["firstbyte",i()])},{handle:"D5DuLP"}],14:[function(t,e){function n(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(0>o?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=n},{}],15:[function(t,e){function n(t,e,r,s){function nrWrapper(){try{var n,a=u(arguments),d=this,f=r&&r(a,d)||{}}catch(c){i([c,"",[a,d,s],f])}o(e+"start",[a,d,s],f);try{return n=t.apply(d,a)}catch(p){throw o(e+"err",[a,d,p],f),p}finally{o(e+"end",[a,d,n],f)}}return a(t)?t:(e||(e=""),nrWrapper[n.flag]=!0,nrWrapper)}function r(t,e,r,o){r||(r="");var i,s,u,d="-"===r.charAt(0);for(u=0;u<e.length;u++)s=e[u],i=t[s],a(i)||(t[s]=n(i,d?s+r:r,o,s,t))}function o(t,e,n){try{s.emit(t,e,n)}catch(r){i([r,t,e,n])}}function i(t){try{s.emit("internal-error",t)}catch(e){}}function a(t){return!(t&&"function"==typeof t&&t.apply&&!t[n.flag])}var s=t(1),u=t(2);e.exports=n,n.inPlace=r,n.flag="nr@wrapper"},{1:1,2:14}]},{},["G9z0Bl",2,7]);</script></head>
<body data-slug="Mozilla/Tech/XPCOM/Reference/Interface/nsIWindowMediator" contextmenu="edit-history-menu" class="document  ">

  <script type="text/javascript">
    (function(win) {
        'use strict';

                    (function(){
  var FLAGS = {
    'derby_closed': true,'ga_outbound_links': true,'kumaediting': false,'page_move': false,'promote_script': false,'redirect_messages': false,'top_contributors': false,'wiki_spellcheck': false
    },
    SWITCHES = {
    'wiki_error_on_delete': false,'wiki_force_immediate_rendering': false,'render_stale_documents_async': true,'enable_optimizely': false
    },
    SAMPLES = {
    
    };
  window.waffle = {
    "flag_is_active": function waffle_flag(flag_name) {
      
      return !!FLAGS[flag_name];
    },
    "switch_is_active": function waffle_switch(switch_name) {
      
      return !!SWITCHES[switch_name];
    },
    "sample_is_active": function waffle_sample(sample_name) {
      
      return !!SAMPLES[sample_name];
    },
    "FLAGS": FLAGS,
    "SWITCHES": SWITCHES,
    "SAMPLES": SAMPLES
  };
})();

                
        // This represents the site configuration
        win.mdn = {
            build: '9fd3034',
            // Properties and settings for CKEditor will go here
            ckeditor: {},
            // Feature test results and methods will be placed here
            features: {},
            // The path to media (images, CSS, JS) in MDN
            mediaPath: 'https://developer.cdn.mozilla.net/media/',
            // Optimizely API
            optimizely: win['optimizely'] || [],
            // Site notifications
            notifications: [],
            
            // Wiki-specific settings will be placed here
            wiki: {
                autosuggestTitleUrl: '/en-US/docs/get-documents'
            },
        };

        // Ensures gettext always returns something, is always set
        win.gettext = function(x) {
            return x;
        }
    })(window);
</script>
  

  
  <ul id="nav-access">
    <li><a href="#document-main" id="skip-main">Skip to main content</a></li>
    <li><a id="skip-language" href="#language">Select language</a></li>
          <li><a href="#q" id="skip-search">Skip to search</a></li>
      </ul>

  <!-- Header -->
  <header id="main-header"><div class="center">

    <div class="clear header-login">
      <a href="http://www.mozilla.org/" id="tabzilla" class="no-track">mozilla</a>
                <script src="../../../../../../../../login.persona.org/include.js"></script>
<script type="text/javascript">
(function() {
  var allauth = window.allauth = window.allauth || {};

  function startWatching() {
    navigator.id.watch({
      onlogin: function(assertion) {
        // TODO: next url handling
        document.getElementById("_persona_assertion").value = assertion;
        document.getElementById("_persona_login").submit();
      },
      onlogout: function() {
        // TODO
      }
    })
  };

  allauth.persona = {
    login: function(nextUrl, process) {
        document.getElementById("_persona_next_url").value = nextUrl || '';
        document.getElementById("_persona_process").value = process;
        startWatching();
        navigator.id.request({"siteName": "Mozilla Developer Network", "siteLogo": "/media/redesign/img/opengraph-logo.png"});
    }
  }
})();
</script>

<form id="_persona_login" method="post" action="https://developer.mozilla.org/users/persona/login/">
  <div style='display:none'><input type='hidden' name='csrfmiddlewaretoken' value='OFUZvWX3cvltHNznKujHNL8vtsBRoNMa' /></div>
  <input type="hidden" name="next" value="" id="_persona_next_url"/>
  <input type="hidden" name="process" value="" id="_persona_process"/>
  <input type="hidden" name="assertion" id="_persona_assertion"/>
</form>

  <form>
      <div class="oauth-login-container" tabIndex="0">
          <div class="oauth-login-options">
              <span>Sign in with</span>
              <span class="oauth-icon oauth-persona" title="Sign in with Persona"><i class="icon-user" aria-hidden="true"></i></span>
                      </div>
          <div class="submenu oauth-login-picker" aria-hidden="true">
              <ul>
                  <li><a href="javascript:allauth.persona.login('/en\u002DUS/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWindowMediator', 'login')" class="persona-button persona-loaded login-link" data-next="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWindowMediator" data-service="Persona"><i class="icon-user" aria-hidden="true"></i>Persona</a></li>
                              </ul>
          </div>
      </div>
  </form>
          </div>

    <a href="https://developer.mozilla.org/en-US/" class="logo">Mozilla Developer Network</a>

    <nav id="main-nav" role="navigation"><ul><li><a href="https://developer.mozilla.org/en-US/docs/Zones">Zones<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu submenu-single" id="nav-zones-submenu">
          <div class="submenu-column">
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/Add-ons">Add-ons</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Apps">App Center</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox">Firefox</a></li>
              <li><a href="https://developer.mozilla.org/en-US/Marketplace">Firefox Marketplace</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Firefox_OS">Firefox OS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Persona">Persona</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Web">Web Platform<i aria-hidden="true" class="icon-caret-down"></i></a>

        <div class="submenu" id="nav-platform-submenu">
          <div class="submenu-column">
            <div class="title">Technologies</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML">HTML</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS">CSS</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript">JavaScript</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Graphics">Graphics</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/API">APIs / DOM</a></li>
              <li><a href="https://developer.mozilla.org/en-US/Apps">Apps</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/MathML">MathML</a></li>
            </ul>
          </div><div class="submenu-column last">
            <div class="title">References & Guides</div>
            <ul>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Tutorials">Tutorials</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Reference">References</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Guide">Developer Guides</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web/Accessibility">Accessibility</a></li>
              <li><a href="https://developer.mozilla.org/en-US/demos/">Demos</a></li>
              <li><a href="https://developer.mozilla.org/en-US/docs/Web">...more docs</a></li>
            </ul>
          </div>
        </div>
      </li><li><a href="https://developer.mozilla.org/en-US/docs/Tools">Tools</a></li><li><a href="https://developer.mozilla.org/en-US/demos/">Demos</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Connect">Connect</a></li><li class="main-nav-search"><form action="https://developer.mozilla.org/en-US/search" method="get" role="search">
        <div class="search-wrap">
          <label for="main-q" class="offscreen">Search</label>
          <input type="search" id="main-q" name="q" data-placeholder="Search" data-value="" value="" />
          <span class="search-trigger"><i aria-hidden="true" class="icon-search"></i></span>&nbsp;
          <button type="submit" class="offscreen">Search</button>
        </div>
      </form></li></ul></nav>
  </div></header>

  <!-- Content will go here -->
  <main id="content"><div class="center clear">
  
   <!-- end is_zone -->


    <div class="wiki-main-content" id="document-main"><div class="center">
            <div class="article-meta">
        <!-- action buttons -->
        
        
        

  <ul class="page-buttons" data-sticky="false"><li><button id="languages-menu" class="transparent" aria-haspopup="true" aria-owns="languages-menu-submenu" aria-expanded="false"><span>Languages</span><i aria-hidden="true" class="icon-globe"></i></button>

        <div class="submenu" id="languages-menu-submenu">
          <div class="submenu-column">
            <ul id="translations">
                                                <li><bdi><a rel="internal" href="https://developer.mozilla.org/ja/docs/XPCOM_Interface_Reference/nsIWindowMediator" title="nsIWindowMediator">日本語</a></bdi></li>
                              
                              <li><a href="https://developer.mozilla.org/en-US/users/signin/?next=/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWindowMediator%24locales">Add a translation</a></li>
                          </ul>
          </div>
        </div></li><li class="page-buttons-edit"><a href="https://developer.mozilla.org/en-US/users/signin/?next=/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWindowMediator%24edit" class="button" data-optimizely-hook="button-edit-doc" id="edit-button">Edit<i aria-hidden="true" class="icon-pencil"></i></a></li><li><button id="advanced-menu" class="only-icon" aria-haspopup="true" aria-owns="advanced-menu-submenu" aria-expanded="false"><span>Advanced</span><i aria-hidden="true" class="icon-cog"></i></button>

        <div class="submenu" id="advanced-menu-submenu">
          <!-- this page -->
          <div class="submenu-column">
            <div class="title">Advanced</div>
            <ul>
                <li><a href="nsIWindowMediator%24history.html">History</a></li>
                                                                
                
                                
                                                                <li class="page-print"><a href="#" onclick="return window.print();"  title="Print page">Print this page</a></li>
            </ul>
          </div>
        </div>
  </li></ul>

        <!-- crumbs -->
          <nav class="crumbs" role="navigation"><ol xmlns:v="http://rdf.data-vocabulary.org/#" aria-label="breadcrumbs">
    <li typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US" rel="v:url" property="v:title">MDN</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla" rel="v:url" property="v:title">Mozilla</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech" rel="v:url" property="v:title">Mozilla technologies</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM" rel="v:url" property="v:title">XPCOM</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="https://developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference" rel="v:url" property="v:title">XPCOM reference</a></li>
          <li class="crumb" typeof="v:Breadcrumb"><a href="../Interface.html" rel="v:url" property="v:title">XPCOM Interface Reference</a></li>
        <li class="crumb" typeof="v:Breadcrumb" property="v:title">nsIWindowMediator</li>
  </ol></nav>
      </div>

      <!-- heading -->
      <div id="wiki-document-head" class="document-head">
          <span class="from-search-previous-box">
            <a class="button from-search-previous only-icon disabled" title="Previous Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-left"></i></a>
          </span>
          <span class="from-search-navigate-wrap">
            <a href="#" class="from-search-navigate"><span class="from-search-navigate-up"><i aria-hidden="true" class="icon-double-angle-up"></i></span><span class="from-search-navigate-down"><i aria-hidden="true" class="icon-double-angle-down"></i></span></a>
          </span>
          <div class="from-search-toc">
            <span class="title">Your Search Results</span>
            <ol></ol>
          </div>
          <span class="from-search-next-box">
            <a class="button from-search-next only-icon disabled" title="Next Search Result" data-empty-title="No Previous Search Result"><i aria-hidden="true" class="icon-chevron-right"></i></a>
          </span>
        <h1>nsIWindowMediator</h1>
        
      </div>
      
      <!-- start the main content container -->
        <div id="wiki-column-container" class="wiki-right-present wiki-left-closed wiki-left-none">

          
          <!-- content row with three strips -->
          <div class="column-container column-container-reverse">

                          <!-- TOC, approvals, etc -->
              <div class="column-strip wiki-column" id="wiki-right">
                            <!-- table of contents -->
              <div id="toc" class="toc toggleable">
                <a href="#toc" class="title toggler" data-open-icon="icon-plus" data-closed-icon="icon-minus">In This Article<i></i></a>
                <ol class="toggle-container">
                  <code></code><code></code><code></code><code></code><li><a href="#Method_overview" rel="internal">Method overview</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="#Constants" rel="internal">Constants</a><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="#Methods" rel="internal">Methods</a><ol><li><a href="#addListener()" rel="internal">addListener()</a><code></code><li><a href="#calculateZPosition" rel="internal">calculateZPosition</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="#getEnumerator()" rel="internal">getEnumerator()</a><code></code><code></code><code></code><code></code><code></code><li><a href="#getMostRecentWindow()" rel="internal">getMostRecentWindow()</a><code></code><code></code><code></code><code></code><code></code><li><a href="#getOuterWindowWithId()" rel="internal">getOuterWindowWithId()</a><ol><li><a href="#Parameters" rel="internal">Parameters</a><code></code><code></code><li><a href="#Return_value" rel="internal">Return value</a><code></code></ol></li><li><a href="#getXULWindowEnumerator()" rel="internal">getXULWindowEnumerator()</a><code></code><code><code></code></code><code><code></code></code><code></code><code id="a-windowtype"></code><code></code><code></code><code></code><li><a href="#getZLevel" rel="internal">getZLevel</a><code></code><code></code><code></code><li><a href="#getZOrderDOMWindowEnumerator()" rel="internal">getZOrderDOMWindowEnumerator()</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="#getZOrderXULWindowEnumerator()" rel="internal">getZOrderXULWindowEnumerator()</a><code></code><code><code></code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="#registerWindow" rel="internal">registerWindow</a><code></code><code></code><li><a href="#removeListener()" rel="internal">removeListener()</a><code></code><li><a href="#setZLevel" rel="internal">setZLevel</a><code></code><code></code><code></code><code></code><li><a href="#setZPosition" rel="internal">setZPosition</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="#unregisterWindow" rel="internal">unregisterWindow</a><code></code><code></code><li><a href="#updateWindowTimeStamp" rel="internal">updateWindowTimeStamp</a><code></code><li><a href="#updateWindowTitle" rel="internal">updateWindowTitle</a><code></code><code></code><code></code></ol></li><li><a href="#Examples" rel="internal">Examples</a><code></code><code><code id="a-windowtype"></code></code><code><code></code></code><code><code></code></code><code></code><code></code><ol><li><a href="#Getting_most_recent_window" rel="internal">Getting most recent window</a><code></code><code></code><code></code><li><a href="#Changing_an_nsIDOMWindow_to_an_nsIXULWindow" rel="internal">Changing an nsIDOMWindow to an nsIXULWindow</a><code></code><code></code><code></code><code></code><code></code><code></code><li><a href="#Enumerating_windows" rel="internal">Enumerating windows</a><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code><code></code></ol></li><li><a href="#See_also" rel="internal">See also</a>
                </ol>
              </div>
                            </div>
            
                                                  
            <!-- center: main article content -->
            <div id="wiki-content" class="column-main wiki-column text-content">

              
              
                                                                                          
              <!-- just the article content -->
              <article id="wikiArticle">
                                                      <p></p><div style="border: solid #ddd 2px; margin-bottom: 12px;"> 
<div style="background: #eee; padding: 2px;"><code><a class="external" href="http://mxr.mozilla.org/mozilla-central/source/xpfe/appshell/public/nsIWindowMediator.idl" rel="custom">xpfe/appshell/public/nsIWindowMediator.idl</a></code><span style="text-align: right; float: right;"><a href="en-US/docs/Interfaces/About_Scriptable_Interfaces.html" style="color: #00cc00; font-weight: 700;">Scriptable</a></span></div> 
<span style="padding: 4px 2px;"> 
 
The window mediator is a Mozilla component that keeps track of open windows. 
</span> 
 
<div style="background: #eee; padding: 2px;"> 
Inherits from: <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsISupports" title="">nsISupports</a></code> 
<span style="text-align: right; float: right;">Last changed in Gecko 8.0 (Firefox 8.0 / Thunderbird 8.0 / SeaMonkey 2.5)</span></div> 
</div><p></p>
<p>The two most common uses of <code>nsIWindowMediator</code> are, enumerating all windows of a given type and getting the most recent / any window of a given type.</p>
<p>Implemented by: <code>@mozilla.org/appshell/window-mediator;1</code> as a service:</p>
<pre class="eval">var windowMediator = Components.classes["@mozilla.org/appshell/window-mediator;1"]
                     .getService(Components.interfaces.nsIWindowMediator);
</pre>
<h2 id="Method_overview" name="Method_overview">Method overview</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td><code>void <a href="#addListener()">addListener</a>(in nsIWindowMediatorListener aListener);</code></td>
  </tr>
  <tr>
   <td><code>boolean <a href="#calculateZPosition()">calculateZPosition</a>(in nsIXULWindow inWindow, in unsigned long inPosition, in nsIWidget inBelow, out unsigned long outPosition, out nsIWidget outBelow);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>nsISimpleEnumerator <a href="#getEnumerator()">getEnumerator</a>(in wstring aWindowType);</code></td>
  </tr>
  <tr>
   <td><code>nsIDOMWindow <a href="#getMostRecentWindow()">getMostRecentWindow</a>(in wstring aWindowType);</code></td>
  </tr>
  <tr>
   <td><code>nsIDOMWindow <a href="#getOuterWindowWithId()">getOuterWindowWithId</a>(in unsigned long long aOuterWindowID); </code><span class="badge geckoVersionBadge" title="(Firefox 23.0 / Thunderbird 23.0 / SeaMonkey 2.20)"><span class="badgeText">Requires Gecko 23.0</span></span></td>
  </tr>
  <tr>
   <td><code>nsISimpleEnumerator <a href="#getXULWindowEnumerator()">getXULWindowEnumerator</a>(in wstring aWindowType);</code></td>
  </tr>
  <tr>
   <td><code>PRUint32 <a href="#getZLevel()">getZLevel</a>(in nsIXULWindow aWindow);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>nsISimpleEnumerator <a href="#getZOrderDOMWindowEnumerator()">getZOrderDOMWindowEnumerator</a>(in wstring aWindowType, in boolean aFrontToBack);</code></td>
  </tr>
  <tr>
   <td><code>nsISimpleEnumerator <a href="#getZOrderXULWindowEnumerator()">getZOrderXULWindowEnumerator</a>(in wstring aWindowType, in boolean aFrontToBack);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#registerWindow()">registerWindow</a>(in nsIXULWindow aWindow);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#removeListener()">removeListener</a>(in nsIWindowMediatorListener aListener);</code></td>
  </tr>
  <tr>
   <td><code>void <a href="#setZLevel()">setZLevel</a>(in nsIXULWindow aWindow, in PRUint32 aZLevel);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#setZPosition()">setZPosition</a>(in nsIXULWindow inWindow, in unsigned long inPosition, in nsIXULWindow inBelow);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#unregisterWindow()">unregisterWindow</a>(in nsIXULWindow aWindow);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#updateWindowTimeStamp()">updateWindowTimeStamp</a>(in nsIXULWindow aWindow);</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
  <tr>
   <td><code>void <a href="#updateWindowTitle()">updateWindowTitle</a>(in nsIXULWindow aWindow, in wstring inTitle );</code> <span class="inlineIndicator noscript noscriptInline" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span></td>
  </tr>
 </tbody>
</table>
<h2 id="Constants" name="Constants">Constants</h2>
<table class="standard-table">
 <tbody>
  <tr>
   <td class="header">Constant</td>
   <td class="header">Value</td>
   <td class="header">Description</td>
  </tr>
  <tr>
   <td><code>zLevelTop</code></td>
   <td><code>1</code></td>
   <td>Send window to top.</td>
  </tr>
  <tr>
   <td><code>zLevelBottom</code></td>
   <td><code>2</code></td>
   <td>Send window to bottom.</td>
  </tr>
  <tr>
   <td><code>zLevelBelow</code></td>
   <td><code>3</code></td>
   <td>Place window below some window.</td>
  </tr>
 </tbody>
</table>
<h2 id="Methods" name="Methods">Methods</h2>
<h3 id="addListener()" name="addListener()">addListener()</h3>
<p>Register a listener for window status changes.</p>
<pre class="eval">void addListener(
  in nsIWindowMediatorListener aListener
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aListener</code></dt>
 <dd>
  The listener to register.</dd>
</dl>
<div class="note">
 <p><strong>Example:</strong> Of window listener object and how to register then unregister. This example below waits for listens to when a window opens, and then after that window opens it adds event listener to listen to when the window completes loading, after that it fires a function. IMPORTANT: This will attach the functionality to future opened windows, so if you copy paste this code to scratchpad, then after running this script, you need to open a new window by pressing Ctrl + N and then in the new window, selecting tabs will fire the alert.</p>
 <pre class="eval">var {Cc: classes, Ci: interfaces} = Components;

var windowListener = {
    onOpenWindow: function (aWindow) {
        // Wait for the window to finish loading
        let domWindow = aWindow.QueryInterface(Ci.nsIInterfaceRequestor).getInterface(Ci.nsIDOMWindowInternal || Ci.nsIDOMWindow);
        domWindow.addEventListener("load", function () {
            domWindow.removeEventListener("load", arguments.callee, false); //this removes this load function from the window
            //window has now loaded now do stuff to it
            //as example this will add a function to listen to tab select and will fire alert in that window
            if (domWindow.gBrowser &amp;&amp; domWindow.gBrowser.tabContainer) {
                domWindow.gBrowser.tabContainer.addEventListener('TabSelect', function () {
                    domWindow.alert('tab was selected')
                }, false);
            }
        }, false);
    },
    onCloseWindow: function (aWindow) {},
    onWindowTitleChange: function (aWindow, aTitle) {}
};

//to register
Services.wm.addListener(windowListener);

//Services.wm.removeListener(windowListener); //once you want to remove this listener execute removeListener, currently its commented out so you can copy paste this code in scratchpad and see it work
</pre>
</div>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="calculateZPosition">calculateZPosition</h3></div><p></p>
<p>A window wants to be moved in z-order. Calculate whether and how it should be constrained. Note this method is advisory only: it changes nothing either in WindowMediator's internal state or with the window.</p>
<p></p><div class="note"><strong>Note:</strong> It compares the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIXULWindow" title="">nsIXULWindow</a></code> to <code><a class="new" href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWidgets" title="">nsIWidgets</a></code>. A pure interface would use all <code><a class="new" href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIXULWindows" title="">nsIXULWindows</a></code>. But we expect this to be called from callbacks originating in native window code. They are expected to hand us comparison values which are pulled from general storage in the native widget, and may not correspond to an <code><a class="new" href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWidget" title="">nsIWidget</a></code> at all. For that reason this interface requires only objects one step removed from the native window (<code><a class="new" href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWidgets" title="">nsIWidgets</a></code>), and its implementation must be very understanding of what may be completely invalid pointers in those parameters.</div><p></p>
<pre class="eval">boolean calculateZPosition(
  in nsIXULWindow inWindow,
  in unsigned long inPosition,
  in nsIWidget inBelow,
  out unsigned long outPosition,
  out nsIWidget outBelow
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>inWindow</code></dt>
 <dd>
  The window in question.</dd>
 <dt>
  <code>inPosition</code></dt>
 <dd>
  Requested position one of the zLevel constants. <code>zLevelTop</code> send the window to the top window, <code>zLevelBottom</code> to the bottom. If set to <code>zLevelBelow</code> the window will be placed below ioBelow. The value of inBelow will be ignored for <code>zLevelTop</code> and <code>zLevelBottom</code>.)</dd>
 <dt>
  <code>inBelow</code></dt>
 <dd>
  If inPosition is set to <code>zLevelBelow</code>, the window below which inWindow wants to be placed. Otherwise this variable is ignored.</dd>
 <dt>
  <code>outPosition</code></dt>
 <dd>
  Constrained position, values like inPosition.</dd>
 <dt>
  <code>outBelow</code></dt>
 <dd>
  The window below which <code>inWindow</code> should be placed, if outPosition equals <code>zLevelBelow</code>. Otherwise this value will be <code>null</code>.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>PR_TRUE if the position returned is different from the position given.</p>
<h3 id="getEnumerator()" name="getEnumerator()">getEnumerator()</h3>
<p>Return an enumerator which iterates over all windows of type <code>aWindowType</code> from the oldest window to the youngest.</p>
<pre class="eval">nsISimpleEnumerator getEnumerator(
  in wstring aWindowType
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aWindowType</code></dt>
 <dd>
  The returned enumerator will enumerate only windows of this type. ("type" is the |windowtype| attribute of the XML &lt;<code><a href="https://developer.mozilla.org/en-US/docs/XUL/window" title="window">window</a></code>&gt; element.) If <code>null</code>, all windows will be enumerated.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>An enumerator of <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIDOMWindow" title="">nsIDOMWindow</a></code>s.</p>
<h3 id="getMostRecentWindow()" name="getMostRecentWindow()">getMostRecentWindow()</h3>
<p>This is a shortcut for simply fetching the first window in front to back order.</p>
<pre class="eval">nsIDOMWindow getMostRecentWindow(
  in wstring aWindowType
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aWindowType</code></dt>
 <dd>
  Return the topmost window of this type. ("type" is the |windowtype| attribute of the XML &lt;<code><a href="https://developer.mozilla.org/en-US/docs/XUL/window" title="window">window</a></code>&gt; element.) If <code>null</code>, return the topmost window of any type.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>The topmost window.</p>
<div class="note">
 <p><strong>Note:</strong> Starting in <span title="(Firefox 8.0 / Thunderbird 8.0 / SeaMonkey 2.5)">Gecko 8.0</span>, the returned value is an <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIDOMWindow" title="">nsIDOMWindow</a></code>; previously, it was an <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIDOMWindowInternal" title="">nsIDOMWindowInternal</a></code>. You may need to update your code or recompile binary components, if they use this method.</p>
</div>
<p></p><div> 
    <span class="indicatorInHeadline standardNote standardNoteMethod">Requires Gecko 23.0 (Firefox 23.0 / Thunderbird 23.0 / SeaMonkey 2.20)</span> 
    <h3 id="getOuterWindowWithId()" name="getOuterWindowWithId()">getOuterWindowWithId()</h3> 
</div><p></p>
<p>Return the outer window with the given ID, if any.</p>
<pre class="eval">nsIDOMWindow getOuterWindowWithId(
  in unsigned long long aOuterWindowID
);
</pre>
<h4 id="Parameters" name="Parameters">Parameters</h4>
<dl>
 <dt>
  <code>aOuterWindowID</code></dt>
 <dd>
  The id of the outer window, e.g., as obtained by <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIDOMWindowUtils#outerWindowID" title="/en-US/docs/XPCOM_Interface_Reference/nsIDOMWindowUtils#outerWindowID">nsIDOMWindowUtils.outerWindowID</a></code>.</dd>
</dl>
<h4 id="Return_value" name="Return_value">Return value</h4>
<p>The DOM window with the given ID. If no window with the ID exists, or the window exists but it is an inner window, null is returned instead. See also: <a href="https://developer.mozilla.org/en-US/docs/Inner_and_outer_windows" title="/en-US/docs/Inner_and_outer_windows">Inner and outer windows</a>.</p>
<div class="note">
 <p><strong>Note:</strong> Before <span title="(Firefox 23.0 / Thunderbird 23.0 / SeaMonkey 2.20)">Gecko 23.0</span>, use <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIDOMWindowUtils#getOuterWindowWithID" title="/en-US/docs/XPCOM_Interface_Reference/nsIDOMWindowUtils#outerWindowID">nsIDOMWindowUtils.getOuterWindowWithId</a></code>.</p>
 <pre class="eval">windowMediator = Components.classes["@mozilla.org/appshell/window-mediator;1"]
    .getService(Components.interfaces.nsIWindowMediator);

if (!windowMediator.getOuterWindowWithId) {

  windowMediator.getOuterWindowWithId = function (aOuterWindowID) {

     let win = this.getMostRecentWindow();
     let winUtil = win.QueryInterface(Components.interfaces.nsIInterfaceRequestor)
         .getInterface(Components.interfaces.nsIDOMWindowUtils);

     return winUtil.getOuterWindowWithId(aOuterWindowID);
  }

}
</pre>
</div>
<h3 id="getXULWindowEnumerator()" name="getXULWindowEnumerator()">getXULWindowEnumerator()</h3>
<p>Identical to <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWindowMediator#getEnumerator()">getEnumerator()</a></code> except it returns <code><code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIXULWindow" title="">nsIXULWindow</a></code></code> instead of <code><code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIDOMWindow" title="">nsIDOMWindow</a></code></code>.</p>
<pre class="eval">nsISimpleEnumerator getXULWindowEnumerator(
  in wstring aWindowType
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aWindowType</code></dt>
 <dd>
  The returned enumerator will enumerate only windows of this type; that is, the <code id="a-windowtype"><a href="https://developer.mozilla.org/en-US/docs/XUL/Attribute/windowtype">windowtype</a></code> attribute of the XUL <code><a href="https://developer.mozilla.org/en-US/docs/XUL/window" title="window">window</a></code> element. If <code>null</code>, all windows are enumerated.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>An enumerator of <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIXULWindow" title="">nsIXULWindow</a></code>s.</p>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="getZLevel">getZLevel</h3></div><p></p>
<p>Return the window's Z level (as defined in <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIXULWindow" title="">nsIXULWindow</a></code>).</p>
<pre class="eval">PRUint32 getZLevel(
  in nsIXULWindow aWindow
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aWindow</code></dt>
 <dd>
  The window in question.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p><code>aWindow</code>'s z level.</p>
<h3 id="getZOrderDOMWindowEnumerator()" name="getZOrderDOMWindowEnumerator()">getZOrderDOMWindowEnumerator()</h3>
<p>Return an enumerator which iterates over all windows of type <code>aWindowType</code> in their z (front-to-back) order. Note this interface makes no requirement that a window couldn't be revisited if windows are re-ordered while z-order enumerators are active.</p>
<pre class="eval">nsISimpleEnumerator getZOrderDOMWindowEnumerator(
  in wstring aWindowType,
  in boolean aFrontToBack
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aWindowType</code></dt>
 <dd>
  The returned enumerator will enumerate only windows of this type. ("type" is the |windowtype| attribute of the XML &lt;<code><a href="https://developer.mozilla.org/en-US/docs/XUL/window" title="window">window</a></code>&gt; element.) If <code>null</code>, all windows will be enumerated.</dd>
 <dt>
  <code>aFrontToBack</code></dt>
 <dd>
  If <code>true</code>, the enumerator enumerates windows in order from front to back. Back to front if <code>false</code>.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>An enumerator of <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIDOMWindow" title="">nsIDOMWindow</a></code>s.</p>
<div class="warning">
 <p>This method may not work on Linux or Mac (<a class="external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=462222">bug 462222</a>) nor on OS2 (<a class="external" href="https://bugzilla.mozilla.org/show_bug.cgi?id=370134">bug 370134</a>) - please check those bugs before relying on it.  More information can be found by searching mxr for <code>BROKEN_WM_Z_ORDER</code>)</p>
</div>
<h3 id="getZOrderXULWindowEnumerator()" name="getZOrderXULWindowEnumerator()">getZOrderXULWindowEnumerator()</h3>
<p>Identical to <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWindowMediator#getZOrderDOMWindowEnumerator()">getZOrderDOMWindowEnumerator()</a></code> except returns an enumerator of <code><code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIXULWindow" title="">nsIXULWindow</a></code></code>.</p>
<pre class="eval">nsISimpleEnumerator getZOrderXULWindowEnumerator(
  in wstring aWindowType,
  in boolean aFrontToBack
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aWindowType</code></dt>
 <dd>
  The returned enumerator will enumerate only windows of this type. ("type" is the |windowtype| attribute of the XML &lt;<code><a href="https://developer.mozilla.org/en-US/docs/XUL/window" title="window">window</a></code>&gt; element.) If <code>null</code>, all windows will be enumerated.</dd>
 <dt>
  <code>aFrontToBack</code></dt>
 <dd>
  If <code>true</code>, the enumerator enumerates windows in order from front to back. Back to front if <code>false</code>.</dd>
</dl>
<h6 id="Return_value" name="Return_value">Return value</h6>
<p>An enumerator of <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIXULWindow" title="">nsIXULWindow</a></code>s.</p>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="registerWindow">registerWindow</h3></div><p></p>
<p>Add the window to the list of known windows. Listeners (see <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWindowMediator#addListener()">addListener()</a></code>) will be notified through their onOpenWindow method.</p>
<pre class="eval">void registerWindow(
  in nsIXULWindow aWindow
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aWindow</code></dt>
 <dd>
  The window to add.</dd>
</dl>
<h3 id="removeListener()" name="removeListener()">removeListener()</h3>
<p>Unregister a listener of window status changes.</p>
<pre class="eval">void removeListener(
  in nsIWindowMediatorListener aListener
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aListener</code></dt>
 <dd>
  The listener to unregister.</dd>
</dl>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="setZLevel">setZLevel</h3></div><p></p>
<p>Set the window's Z level (as defined in <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIXULWindow" title="">nsIXULWindow</a></code>). The implementation will reposition the window as necessary to match its new Z level. The implementation will assume a window's Z level to be <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIXULWindow" title="">nsIXULWindow</a></code>.normalZ until it has been informed of a different level.</p>
<pre class="eval">void setZLevel(
  in nsIXULWindow aWindow,
  in PRUint32 aZLevel
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aWindow</code></dt>
 <dd>
  The window in question.</dd>
 <dt>
  <code>aZLevel</code></dt>
 <dd>
  The window's new Z level.</dd>
</dl>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="setZPosition">setZPosition</h3></div><p></p>
<p>A window has been positioned behind another. Inform WindowMediator.</p>
<pre class="eval">void setZPosition(
  in nsIXULWindow inWindow,
  in unsigned long inPosition,
  in nsIXULWindow inBelow
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>inWindow</code></dt>
 <dd>
  The window in question.</dd>
 <dt>
  <code>inPosition</code></dt>
 <dd>
  Requested position one of the zLevel constants. <code>zLevelTop</code> send the window to the top window, <code>zLevelBottom</code> to the bottom. If set to <code>zLevelBelow</code> the window will be placed below ioBelow. The value of inBelow will be ignored for <code>zLevelTop</code> and <code>zLevelBottom</code>.)</dd>
 <dt>
  <code>inBelow</code></dt>
 <dd>
  The window inWindow is behind, if <code>zLevelBelow</code>.</dd>
</dl>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="unregisterWindow">unregisterWindow</h3></div><p></p>
<p>Remove the window from the list of known windows. Listeners (see <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWindowMediator#addListener()">addListener()</a></code>) will be be notified through their onCloseWindow method.</p>
<pre class="eval">void unregisterWindow(
  in nsIXULWindow aWindow
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aWindow</code></dt>
 <dd>
  The window to remove.</dd>
</dl>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="updateWindowTimeStamp">updateWindowTimeStamp</h3></div><p></p>
<p>Call this method when a window gains focus. It's a primitive means of determining the most recent window. It's no longer necessary and it really should be removed.</p>
<pre class="eval">void updateWindowTimeStamp(
  in nsIXULWindow aWindow
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aWindow</code></dt>
 <dd>
  The window which has gained focus.</dd>
</dl>
<p></p><div><span class="indicatorInHeadline noscript noscriptMethod" title="This method may only be called from C++; don't use it from JavaScript.">Native code only!</span><h3 id="updateWindowTitle">updateWindowTitle</h3></div><p></p>
<p>Call this method when a window's title changes. Listeners (see <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWindowMediator#addListener()">addListener()</a></code>) will be notified through their onWindowTitleChange method.</p>
<pre class="eval">void updateWindowTitle(
  in nsIXULWindow aWindow,
  in wstring inTitle 
);
</pre>
<h6 id="Parameters" name="Parameters">Parameters</h6>
<dl>
 <dt>
  <code>aWindow</code></dt>
 <dd>
  The window whose title has changed.</dd>
 <dt>
  <code>inTitle</code></dt>
 <dd>
  The window's new title.</dd>
</dl>
<h2 id="Examples" name="Examples">Examples</h2>
<p>In the examples below, <code>type</code> specifies the type of windows you want to search. You can specify the type of your window by putting a <code><code id="a-windowtype"><a href="https://developer.mozilla.org/en-US/docs/XUL/Attribute/windowtype">windowtype</a></code></code> attribute on the top-level element, like <code>&lt;<code><a href="https://developer.mozilla.org/en-US/docs/XUL/window" title="window">window</a></code>&gt;</code> or <code>&lt;<code><a href="https://developer.mozilla.org/en-US/docs/XUL/dialog" title="dialog">dialog</a></code>&gt;</code>.</p>
<p>Browser windows have a window type of <code>navigator:browser</code>. To search all windows, regardless of their type, pass an empty string, <code>""</code>.</p>
<h3 id="Getting_most_recent_window" name="Getting_most_recent_window">Getting most recent window</h3>
<p>The following code is useful when you need any of the windows of given type, or to check if a window of a particular type (for example your extension's Options dialog) is already open.</p>
<p><code>getMostRecentWindow</code> returns a <code>ChromeWindow</code> object, or <code>null</code>, if there are no windows of a given type open.</p>
<pre class="brush: js">var wm = Components.classes["@mozilla.org/appshell/window-mediator;1"]
                   .getService(Components.interfaces.nsIWindowMediator);
var win = wm.getMostRecentWindow(type);
</pre>
<h3 id="Changing_an_nsIDOMWindow_to_an_nsIXULWindow">Changing an nsIDOMWindow to an nsIXULWindow</h3>
<p>If you need an <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIXULWindow" title="">nsIXULWindow</a></code>, you should use <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWindowMediator#getXULWindowEnumerator()">getXULWindowEnumerator()</a></code>. However, if you are looking for the <em>most recent</em> <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIXULWindow" title="">nsIXULWindow</a></code>, it can be helpful to get the corresponding <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIXULWindow" title="">nsIXULWindow</a></code> from the <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIDOMWindow" title="">nsIDOMWindow</a></code> returned by <code><a href="https://developer.mozilla.org/en-US/docs/XPCOM_Interface_Reference/nsIWindowMediator#getMostRecentWindow()">getMostRecentWindow()</a></code>.</p>
<pre class="brush: js">win.QueryInterface(Components.interfaces.nsIInterfaceRequestor)
      .getInterface(Components.interfaces.nsIWebNavigation)
      .QueryInterface(Components.interfaces.nsIDocShellTreeItem).treeOwner
      .QueryInterface(Components.interfaces.nsIInterfaceRequestor)
      .getInterface(Components.interfaces.nsIXULWindow) 
</pre>
<h3 id="Enumerating_windows" name="Enumerating_windows">Enumerating windows</h3>
<p>The following code can be used if you need to do something for each open window of a particular type. For example, you could use it in the "OK" handler of your Options dialog to apply the new settings to each open browser window.</p>
<pre class="brush: js">var wm = Components.classes["@mozilla.org/appshell/window-mediator;1"]
                   .getService(Components.interfaces.nsIWindowMediator);
var enumerator = wm.getEnumerator(type);
while(enumerator.hasMoreElements()) {
  var win = enumerator.getNext();
  // <code>win</code> is [Object ChromeWindow] (just like <code>window</code>), do something with it
}
</pre>
<p>This code iterates over all windows of the specified type, where <var>type</var> you specify is the window type. If, for example, you wish to enumerate all browser windows, you would specify "navigator:browser". If you want to enumerate all windows regardless of type, specify <code>null</code>.</p>
<div class="note">
 <strong>Note:</strong> In <code>nsIWindowMediator</code>'s reference page the return type of <code>getMostRecentWindow</code> and the type of enumerator's elements is said to be <code>nsIDOMWindow</code>/<code>nsIDOMWindowInternal</code>. In fact, those methods usually (always?) return a <code>ChromeWindow</code> object, implementing both of those interfaces and a few others, when called from JavaScript code. The global <code>window</code> object you're probably familiar with is of <code>ChromeWindow</code> type.</div>
<h2 id="See_also" name="See_also">See also</h2>
<ul>
 <li><a href="https://developer.mozilla.org/en/Working_with_windows_in_chrome_code" title="en/Working_with_windows_in_chrome_code">Working with windows in chrome code</a></li>
</ul>
<p></p>
                                                </article>

              
                <!-- attachments list -->
                
                <!-- contributors -->
                <div class="wiki-block contributors">
                  <h2 class="offscreen">Document Tags and Contributors</h2>
                                                      <!-- tags if present -->
                  <div class="tag-attach-list tags contributor-sub">
                    <i aria-hidden="true" class="icon-tags"></i><strong>Tags:</strong>
                    <ul class="tag-list"><li><a href="https://developer.mozilla.org/en-US/docs/tag/XPCOM Interface Reference">XPCOM Interface Reference</a></li><li><a href="https://developer.mozilla.org/en-US/docs/tag/Interfaces:Scriptable">Interfaces:Scriptable</a></li><li><a href="https://developer.mozilla.org/en-US/docs/tag/XPCOM">XPCOM</a></li><li><a href="https://developer.mozilla.org/en-US/docs/tag/Interfaces">Interfaces</a></li><li><a href="https://developer.mozilla.org/en-US/docs/tag/XPCOM API Reference">XPCOM API Reference</a></li></ul>
                  </div>
                                    <div class="contributor-sub"> <i aria-hidden="true" class="icon-group"></i><strong>Contributors to this page:</strong> <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>, <a href="https://developer.mozilla.org/en-US/profiles/Bmjaanes">Bmjaanes</a>, <a href="https://developer.mozilla.org/en-US/profiles/the_felis_leo">the_felis_leo</a>, <a href="https://developer.mozilla.org/en-US/profiles/Wladimir_Palant">Wladimir_Palant</a>, <a href="https://developer.mozilla.org/en-US/profiles/LouCypher">LouCypher</a>, <a href="https://developer.mozilla.org/en-US/profiles/Sevenspade">Sevenspade</a>, <a href="https://developer.mozilla.org/en-US/profiles/Np">Np</a>, <a href="https://developer.mozilla.org/en-US/profiles/Nickolay">Nickolay</a>, <a href="https://developer.mozilla.org/en-US/profiles/trevorh">trevorh</a>, <a href="https://developer.mozilla.org/en-US/profiles/Noitidart">Noitidart</a>, <a href="https://developer.mozilla.org/en-US/profiles/Shoot">Shoot</a>, <a href="https://developer.mozilla.org/en-US/profiles/kscarfone">kscarfone</a>, <a href="https://developer.mozilla.org/en-US/profiles/DRice">DRice</a>, <a href="https://developer.mozilla.org/en-US/profiles/Smi">Smi</a>, <a href="https://developer.mozilla.org/en-US/profiles/PWeilbacher">PWeilbacher</a>, <a href="https://developer.mozilla.org/en-US/profiles/Tsahi">Tsahi</a>, <a href="https://developer.mozilla.org/en-US/profiles/Markh">Markh</a> </div>                                      <div class="contributor-sub">
                      <i aria-hidden="true" class="icon-clock-o"></i><strong>Last updated by:</strong>
                      <a href="https://developer.mozilla.org/en-US/profiles/Sheppy">Sheppy</a>,
                      <time datetime="2014-04-14T10:42:27-07:00">Apr 14, 2014 10:42:27 AM</time>
                    </div>
                                  </div>
                          </div>

                      </div>
        </div>
      </div>
    </div> <!-- ends "main-content" -->

  <menu type="context" id="edit-history-menu">
    <menuitem data-action="$edit" label="Edit page"></menuitem>
    <menuitem data-action="$history" label="View page history"></menuitem>
  </menu>
  </div></main>

  <!-- Footer -->
  <footer><div class="center">
    <div class="column-container">
      <div class="column-main">
                <p>
          <bdi>&copy; 2005-2014 Mozilla Developer Network and individual contributors<br /> Content is available under <a href="https://developer.mozilla.org/en-US/docs/Project:MDN/About#Copyrights_and_licenses">these licenses</a> &middot; <a href="https://developer.mozilla.org/en-US/docs/Project:MDN/About">About MDN</a> &middot; <a href="http://github.com/mozilla/kuma">Contribute to the code</a> &middot; <a href="http://www.mozilla.org/privacy/websites/">Privacy policy</a></bdi>        </p>
              </div>
      <div class="column-strip">
                        <form class="languages go" method="get" action="https://developer.mozilla.org/en-US/docs/Web">
      <label for="language">Other languages:</label>
      <select id="language" class="wiki-l10n" name="next" dir="ltr">
        <option value="/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWindowMediator" selected>
          English (US)
        </option>
                  <option value="/ja/docs/XPCOM_Interface_Reference/nsIWindowMediator">
            日本語
          </option>      </select>
      <noscript><button type="submit">Go</button></noscript>
    </form>
                </div>
    </div>
  </div></footer>

  <!-- site js -->
    <script src="https://developer.mozilla.org/en-US/jsi18n/build:9fd3034"></script>
  
      <!--[if lte IE 8]><script src="/media/redesign/js/libs/selectivizr-1.0.2/selectivizr-build.js?build=9fd3034"></script><![endif]-->

    <script src="../../../../../../../../developer.cdn.mozilla.net/media/js/main-min46d5.js?build=9fd3034"></script>

          <script>
        mdn.analytics.trackOutboundLinks(document.body);
      </script>
    
          <script src="../../../../../../../../developer.cdn.mozilla.net/media/js/wiki-min46d5.js?build=9fd3034"></script>
      
    <script type="text/javascript">
      jQuery('.from-search-toc').mozSearchResults('');
  </script>

  <script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"beacon":"beacon-3.newrelic.com","queueTime":0,"licenseKey":"42869b6ed3","agent":"js-agent.newrelic.com/nr-411.min.js","transactionName":"b1QHMUtVDRdSW0YKXVYeIxBXVxcNXFYdFFtTWEsTUFEUFwlcXQBHVVQLEQ==","applicationID":"3172075","errorBeacon":"bam.nr-data.net","applicationTime":274}</script></body>

<!-- Mirrored from developer.mozilla.org/en-US/docs/Mozilla/Tech/XPCOM/Reference/Interface/nsIWindowMediator by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 01 Aug 2014 20:28:28 GMT -->
</html>